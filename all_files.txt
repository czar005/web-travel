]633;E;for file in $(find . -name "*.html" -o -name "*.js" -o -name "*.css" -o -name "*.json" | grep -v node_modules | head -20);06d9f2fb-77c0-4d1b-b722-9a1375aed807]633;C=== FILE: ./admin-style.css ===
/* Admin Styles */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: 'Inter', sans-serif;
    background: #f5f5f5;
    color: #333;
}

.admin-container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 20px;
}

.admin-header {
    background: white;
    padding: 20px;
    border-radius: 10px;
    box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    margin-bottom: 20px;
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.admin-header h1 {
    color: #2c5aa0;
    font-size: 1.5rem;
}

.admin-nav {
    display: flex;
    gap: 10px;
}

.admin-tabs {
    display: flex;
    background: white;
    border-radius: 10px;
    box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    margin-bottom: 20px;
    overflow: hidden;
}

.tab-button {
    flex: 1;
    padding: 15px 20px;
    border: none;
    background: transparent;
    cursor: pointer;
    font-size: 14px;
    font-weight: 500;
    transition: all 0.3s ease;
}

.tab-button:hover {
    background: #f8f9fa;
}

.tab-button.active {
    background: #2c5aa0;
    color: white;
}

.tab-content {
    background: white;
    border-radius: 10px;
    box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    padding: 30px;
}

.tab-pane {
    display: none;
}

.tab-pane.active {
    display: block;
}

.admin-section {
    margin-bottom: 30px;
}

.admin-section h3 {
    color: #2c5aa0;
    margin-bottom: 20px;
    font-size: 1.2rem;
}

.admin-hint {
    color: #666;
    font-size: 14px;
    margin-bottom: 15px;
    font-style: italic;
}

.admin-form {
    max-width: 600px;
}

.form-group {
    margin-bottom: 20px;
}

.form-group label {
    display: block;
    margin-bottom: 5px;
    font-weight: 500;
    color: #333;
}

.form-group input,
.form-group textarea,
.form-group select {
    width: 100%;
    padding: 10px 15px;
    border: 1px solid #ddd;
    border-radius: 5px;
    font-size: 14px;
    transition: border-color 0.3s ease;
}

.form-group input:focus,
.form-group textarea:focus,
.form-group select:focus {
    outline: none;
    border-color: #2c5aa0;
}

.btn-admin {
    background: #2c5aa0;
    color: white;
    border: none;
    padding: 12px 25px;
    border-radius: 5px;
    cursor: pointer;
    text-decoration: none;
    display: inline-flex;
    align-items: center;
    gap: 8px;
    font-size: 14px;
    font-weight: 500;
    transition: background 0.3s ease;
}

.btn-admin:hover {
    background: #1e3d6f;
}

.btn-admin.secondary {
    background: #6c757d;
}

.btn-admin.secondary:hover {
    background: #545b62;
}

.btn-admin.danger {
    background: #dc3545;
}

.btn-admin.danger:hover {
    background: #c82333;
}

.btn-admin.warning {
    background: #ffc107;
    color: #000;
}

.btn-admin.warning:hover {
    background: #e0a800;
}

.table-container {
    overflow-x: auto;
}

.admin-table {
    width: 100%;
    border-collapse: collapse;
    margin-top: 10px;
}

.admin-table th,
.admin-table td {
    padding: 12px 15px;
    text-align: left;
    border-bottom: 1px solid #eee;
}

.admin-table th {
    background: #f8f9fa;
    font-weight: 600;
    color: #333;
}

.admin-table tr:hover {
    background: #f8f9fa;
}

.btn-small {
    padding: 6px 12px;
    border: none;
    border-radius: 3px;
    cursor: pointer;
    font-size: 12px;
    margin-right: 5px;
}

.btn-small.danger {
    background: #dc3545;
    color: white;
}

.btn-small.danger:hover {
    background: #c82333;
}

/* Responsive */
@media (max-width: 768px) {
    .admin-container {
        padding: 10px;
    }
    
    .admin-header {
        flex-direction: column;
        gap: 15px;
        text-align: center;
    }
    
    .admin-tabs {
        flex-direction: column;
    }
    
    .tab-content {
        padding: 20px;
    }
}

/* –°—Ç–∏–ª–∏ –¥–ª—è —Ç–∞–±–ª–∏—Ü—ã —Ç—É—Ä–æ–≤ */
.tour-info {
    display: flex;
    flex-direction: column;
    gap: 5px;
}

.tour-info small {
    color: #666;
    font-size: 0.8rem;
}

.country-badge {
    background: #e3f2fd;
    color: #1976d2;
    padding: 4px 8px;
    border-radius: 12px;
    font-size: 0.8rem;
    font-weight: 500;
}

.price-tag {
    background: #e8f5e8;
    color: #2e7d32;
    padding: 6px 12px;
    border-radius: 15px;
    font-weight: 700;
    font-size: 0.9rem;
}

.duration-badge {
    background: #fff3e0;
    color: #ef6c00;
    padding: 4px 8px;
    border-radius: 10px;
    font-size: 0.8rem;
    font-weight: 500;
}

.tour-count-badge {
    background: #2c5aa0;
    color: white;
    padding: 4px 8px;
    border-radius: 10px;
    font-size: 0.8rem;
    font-weight: 600;
    min-width: 25px;
    display: inline-block;
    text-align: center;
}

.action-buttons {
    display: flex;
    gap: 5px;
}

.btn-small.warning {
    background: #ffc107;
    color: #000;
}

.btn-small.warning:hover {
    background: #e0a800;
}

/* –£–ª—É—á—à–µ–Ω–∏—è –¥–ª—è —Ñ–æ—Ä–º */
.form-group input[type="number"] {
    -moz-appearance: textfield;
}

.form-group input[type="number"]::-webkit-outer-spin-button,
.form-group input[type="number"]::-webkit-inner-spin-button {
    -webkit-appearance: none;
    margin: 0;
}

/* –ê–Ω–∏–º–∞—Ü–∏–∏ –¥–ª—è —Ç–∞–±–ª–∏—Ü */
.admin-table tr {
    transition: background-color 0.2s ease;
}

.admin-table tr:hover {
    background-color: #f8f9fa;
}

/* –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å –¥–ª—è –∞–¥–º–∏–Ω–∫–∏ */
@media (max-width: 768px) {
    .admin-table {
        font-size: 0.9rem;
    }
    
    .action-buttons {
        flex-direction: column;
    }
    
    .tour-info {
        min-width: 150px;
    }
    
    .country-badge,
    .price-tag,
    .duration-badge {
        font-size: 0.7rem;
        padding: 3px 6px;
    }
}



=== FILE: ./fix-contacts-final.html ===
<!-- –ó–∞–º–µ–Ω—è–µ–º —Å–µ–∫—Ü–∏—é –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤ –≤ index.html –Ω–∞ —ç—Ç—É –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—É—é –≤–µ—Ä—Å–∏—é -->
<section id="contact" class="contact">
    <div class="container">
        <h2 class="section-title">–ö–æ–Ω—Ç–∞–∫—Ç—ã</h2>
        <div class="contact-content">
            <div class="contact-info">
                <h3>–ù–∞—à–∏ –∫–æ–Ω—Ç–∞–∫—Ç—ã</h3>
                <div class="contact-item">
                    <i class="fas fa-phone"></i>
                    <div>
                        <strong>–¢–µ–ª–µ—Ñ–æ–Ω:</strong>
                        <p>+7 (999) 123-45-67</p>
                    </div>
                </div>
                <div class="contact-item">
                    <i class="fas fa-envelope"></i>
                    <div>
                        <strong>Email:</strong>
                        <p>info@worldtravel.com</p>
                    </div>
                </div>
                <div class="contact-item">
                    <i class="fas fa-map-marker-alt"></i>
                    <div>
                        <strong>–ê–¥—Ä–µ—Å:</strong>
                        <p>–ú–æ—Å–∫–≤–∞, —É–ª. –¢—É—Ä–∏—Å—Ç–∏—á–µ—Å–∫–∞—è, 15</p>
                    </div>
                </div>
                <div class="contact-item">
                    <i class="fas fa-clock"></i>
                    <div>
                        <strong>–ß–∞—Å—ã —Ä–∞–±–æ—Ç—ã:</strong>
                        <p>–ü–Ω-–ü—Ç: 9:00-18:00</p>
                    </div>
                </div>
            </div>
            <form class="contact-form">
                <input type="text" placeholder="–í–∞—à–µ –∏–º—è" required>
                <input type="email" placeholder="–í–∞—à email" required>
                <input type="tel" placeholder="–í–∞—à —Ç–µ–ª–µ—Ñ–æ–Ω">
                <textarea placeholder="–í–∞—à–µ —Å–æ–æ–±—â–µ–Ω–∏–µ" rows="5" required></textarea>
                <button type="submit">–û—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ</button>
            </form>
        </div>
    </div>
</section>



=== FILE: ./fix-contacts-html.html ===
<div class="contact-content" style="display: grid; grid-template-columns: 1fr 1fr; gap: 40px; align-items: start;">
    <div class="contact-info" style="background: white; padding: 30px; border-radius: 10px; box-shadow: 0 5px 15px rgba(0,0,0,0.1);">
        <h3>–ù–∞—à–∏ –∫–æ–Ω—Ç–∞–∫—Ç—ã</h3>
        <div class="contact-item">
            <strong><i class="fas fa-phone"></i> –¢–µ–ª–µ—Ñ–æ–Ω:</strong>
            <p>+7 (999) 123-45-67</p>
        </div>
        <div class="contact-item">
            <strong><i class="fas fa-envelope"></i> Email:</strong>
            <p>info@worldtravel.com</p>
        </div>
        <div class="contact-item">
            <strong><i class="fas fa-map-marker-alt"></i> –ê–¥—Ä–µ—Å:</strong>
            <p>–ú–æ—Å–∫–≤–∞, —É–ª. –¢—É—Ä–∏—Å—Ç–∏—á–µ—Å–∫–∞—è, 15</p>
        </div>
        <div class="contact-item">
            <strong><i class="fas fa-clock"></i> –ß–∞—Å—ã —Ä–∞–±–æ—Ç—ã:</strong>
            <p>–ü–Ω-–ü—Ç: 9:00-18:00</p>
        </div>
    </div>
    <form class="contact-form" style="background: white; padding: 30px; border-radius: 10px; box-shadow: 0 5px 15px rgba(0,0,0,0.1); display: flex; flex-direction: column; gap: 15px;">
        <input type="text" placeholder="–í–∞—à–µ –∏–º—è" required>
        <input type="email" placeholder="–í–∞—à email" required>
        <input type="tel" placeholder="–í–∞—à —Ç–µ–ª–µ—Ñ–æ–Ω">
        <textarea placeholder="–í–∞—à–µ —Å–æ–æ–±—â–µ–Ω–∏–µ" rows="5" required></textarea>
        <button type="submit">–û—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ</button>
    </form>
</div>



=== FILE: ./simple-sync.js ===
// Simple sync - fixed version
console.log('üéØ SIMPLE-SYNC.JS LOADED');

function simpleSync() {
    console.log('üîç Checking for data updates...');
    
    try {
        const data = localStorage.getItem('worldtravel_data');
        console.log('Data in localStorage:', data ? 'EXISTS' : 'MISSING');
        
        if (data) {
            console.log('Data length:', data.length);
            
            try {
                const parsed = JSON.parse(data);
                console.log('Data parsed successfully');
                
                // Simple update test
                if (parsed.settings && parsed.settings.siteTitle) {
                    if (document.title !== parsed.settings.siteTitle) {
                        document.title = parsed.settings.siteTitle;
                        console.log('‚úÖ Updated page title');
                    }
                }
                
            } catch (parseError) {
                console.log('‚ùå Parse error:', parseError);
            }
        }
    } catch (error) {
        console.log('‚ùå Sync error:', error);
    }
}

// Start syncing
setInterval(simpleSync, 3000);

// Global functions
window.simpleSync = simpleSync;
window.forceUpdate = simpleSync;

console.log('‚úÖ SIMPLE-SYNC.JS READY');



=== FILE: ./reliable-sync.js ===
// Reliable sync - simple and guaranteed to work
console.log('‚úÖ reliable-sync.js LOADED');

let lastData = '';

function checkForUpdates() {
    try {
        const currentData = localStorage.getItem('worldtravel_data');
        
        // Check if data changed
        if (currentData === lastData) {
            return; // No changes
        }
        
        console.log('üîÑ Data changed, updating page...');
        lastData = currentData;
        
        if (!currentData) {
            console.log('üì≠ No data in storage');
            return;
        }
        
        // Parse data
        const data = JSON.parse(currentData);
        console.log('üìä Applying data:', data);
        
        // APPLY CHANGES TO PAGE
        
        // 1. Update contacts
        if (data.contacts) {
            // Phone
            updateText('.contact-info .contact-item:nth-child(1) p', data.contacts.phone);
            updateText('.footer-section:nth-child(3) p:nth-child(1)', data.contacts.phone);
            
            // Email
            updateText('.contact-info .contact-item:nth-child(2) p', data.contacts.email);
            updateText('.footer-section:nth-child(3) p:nth-child(2)', data.contacts.email);
            
            // Address
            updateText('.contact-info .contact-item:nth-child(3) p', data.contacts.address);
            updateText('.footer-section:nth-child(3) p:nth-child(3)', data.contacts.address);
            
            // Hours
            updateText('.contact-info .contact-item:nth-child(4) p', data.contacts.hours);
            updateText('.footer-section:nth-child(3) p:nth-child(4)', data.contacts.hours);
        }
        
        // 2. Update footer
        if (data.footer) {
            updateText('.footer-section:first-child p', data.footer.description);
            updateHTML('.footer-bottom p', data.footer.copyright);
        }
        
        // 3. Update navigation and content
        if (data.content) {
            // Navigation
            updateText('.nav-links a[href="#about"]', data.content.about?.title);
            updateText('.nav-links a[href="#services"]', data.content.services?.title);
            updateText('.nav-links a[href="#destinations"]', data.content.destinations?.title);
            updateText('.nav-links a[href="#contact"]', data.content.contact?.title);
            
            // Footer navigation
            updateText('.footer-section:nth-child(2) a[href="#about"]', data.content.about?.title);
            updateText('.footer-section:nth-child(2) a[href="#services"]', data.content.services?.title);
            updateText('.footer-section:nth-child(2) a[href="#destinations"]', data.content.destinations?.title);
            updateText('.footer-section:nth-child(2) a[href="#contact"]', data.content.contact?.title);
            
            // Content sections
            updateText('#about .section-title', data.content.about?.title);
            updateText('#services .section-title', data.content.services?.title);
            updateText('#destinations .section-title', data.content.destinations?.title);
            updateText('#contact .section-title', data.content.contact?.title);
            
            // Hero section
            updateText('#home h1', data.content.hero?.title);
            updateText('#home p', data.content.hero?.subtitle);
            
            // About description
            updateText('.about-text p', data.content.about?.description);
            
            // Destinations subtitle
            updateText('.destinations .section-subtitle', data.content.destinations?.subtitle);
        }
        
        console.log('‚úÖ Page updated successfully!');
        
    } catch (error) {
        console.log('‚ùå Update error:', error);
    }
}

function updateText(selector, value) {
    if (!value) return;
    const elements = document.querySelectorAll(selector);
    elements.forEach(el => {
        if (el.textContent !== value) {
            el.textContent = value;
            console.log('‚úÖ Updated text:', selector, value);
        }
    });
}

function updateHTML(selector, value) {
    if (!value) return;
    const elements = document.querySelectorAll(selector);
    elements.forEach(el => {
        if (el.innerHTML !== value) {
            el.innerHTML = value;
            console.log('‚úÖ Updated HTML:', selector, value);
        }
    });
}

// Start checking for updates every second
setInterval(checkForUpdates, 1000);

// Also check when page becomes visible
document.addEventListener('visibilitychange', function() {
    if (!document.hidden) {
        checkForUpdates();
    }
});

// Check on storage events
window.addEventListener('storage', function(e) {
    if (e.key === 'worldtravel_data') {
        checkForUpdates();
    }
});

// Initial check
setTimeout(checkForUpdates, 2000);

// Make available globally
window.forceUpdate = checkForUpdates;
window.reliableSync = checkForUpdates;

console.log('‚úÖ reliable-sync.js READY - checking for updates every second');



=== FILE: ./image-manager-enhanced.js ===
// Enhanced Image Manager - —É–ª—É—á—à–µ–Ω–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏
function ImageManagerEnhanced() {
    this.maxFileSize = 5 * 1024 * 1024; // 5MB
    this.supportedFormats = ['image/jpeg', 'image/jpg', 'image/png', 'image/gif', 'image/webp'];
    this.init();
}

ImageManagerEnhanced.prototype.init = function() {
    console.log('üñºÔ∏è Enhanced Image Manager initialized');
    
    // –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º —Ä–µ–¥–∞–∫—Ç–æ—Ä–æ–º
    this.integrateWithEditor();
};

ImageManagerEnhanced.prototype.integrateWithEditor = function() {
    // –ñ–¥–µ–º –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞
    const checkEditor = () => {
        if (window.editor) {
            this.patchEditorMethods();
        } else {
            setTimeout(checkEditor, 100);
        }
    };
    checkEditor();
};

ImageManagerEnhanced.prototype.patchEditorMethods = function() {
    const self = this;
    
    // –ü–∞—Ç—á–∏–º –º–µ—Ç–æ–¥ –∑–∞–≥—Ä—É–∑–∫–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞
    const originalUploadImage = window.editor.uploadImage;
    if (originalUploadImage) {
        window.editor.uploadImage = function(fieldId) {
            self.uploadImageWithValidation(fieldId);
        };
    }
    
    // –ü–∞—Ç—á–∏–º –º–µ—Ç–æ–¥ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ URL –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
    const originalSetImageUrl = window.editor.setImageUrl;
    if (originalSetImageUrl) {
        window.editor.setImageUrl = function(fieldId) {
            self.setImageUrlWithValidation(fieldId);
        };
    }
    
    console.log('‚úÖ Enhanced Image Manager integrated with editor');
};

ImageManagerEnhanced.prototype.uploadImageWithValidation = function(fieldId) {
    const input = document.createElement('input');
    input.type = 'file';
    input.accept = this.supportedFormats.join(',');
    
    input.onchange = (e) => {
        const file = e.target.files[0];
        if (!file) return;
        
        // –í–∞–ª–∏–¥–∞—Ü–∏—è —Ñ–∞–π–ª–∞
        if (!this.validateFile(file)) {
            return;
        }
        
        // –°–æ–∑–¥–∞–µ–º –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π Blob URL
        this.createOptimizedImageBlob(file, fieldId);
    };
    
    input.click();
};

ImageManagerEnhanced.prototype.validateFile = function(file) {
    // –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–∞ —Ñ–∞–π–ª–∞
    if (!this.supportedFormats.includes(file.type)) {
        this.showNotification('–ù–µ–ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–π —Ñ–æ—Ä–º–∞—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ JPG, PNG, GIF –∏–ª–∏ WebP.', 'error');
        return false;
    }
    
    // –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–∑–º–µ—Ä–∞ —Ñ–∞–π–ª–∞
    if (file.size > this.maxFileSize) {
        this.showNotification(`–§–∞–π–ª —Å–ª–∏—à–∫–æ–º –±–æ–ª—å—à–æ–π. –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä: ${this.formatFileSize(this.maxFileSize)}.`, 'error');
        return false;
    }
    
    return true;
};

ImageManagerEnhanced.prototype.createOptimizedImageBlob = function(file, fieldId) {
    const reader = new FileReader();
    const self = this;
    
    reader.onload = function(e) {
        // –°–æ–∑–¥–∞–µ–º –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥–ª—è –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏
        const img = new Image();
        img.onload = function() {
            // –°–æ–∑–¥–∞–µ–º canvas –¥–ª—è –≤–æ–∑–º–æ–∂–Ω–æ–π –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
            const canvas = document.createElement('canvas');
            const ctx = canvas.getContext('2d');
            
            // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Ä–∞–∑—É–º–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –ø–æ —Ä–∞–∑–º–µ—Ä—É
            const maxWidth = 1920;
            const maxHeight = 1080;
            let { width, height } = img;
            
            // –ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º –µ—Å–ª–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å–ª–∏—à–∫–æ–º –±–æ–ª—å—à–æ–µ
            if (width > maxWidth || height > maxHeight) {
                const ratio = Math.min(maxWidth / width, maxHeight / height);
                width *= ratio;
                height *= ratio;
            }
            
            canvas.width = width;
            canvas.height = height;
            
            // –†–∏—Å—É–µ–º –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å –Ω–æ–≤—ã–º–∏ —Ä–∞–∑–º–µ—Ä–∞–º–∏
            ctx.drawImage(img, 0, 0, width, height);
            
            // –°–æ–∑–¥–∞–µ–º –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π Blob
            canvas.toBlob((blob) => {
                const blobUrl = URL.createObjectURL(blob);
                
                // –û–±–Ω–æ–≤–ª—è–µ–º –ø–æ–ª–µ –≤ —Ä–µ–¥–∞–∫—Ç–æ—Ä–µ
                if (window.editor && window.editor.updateImageField) {
                    window.editor.updateImageField(fieldId, blobUrl);
                }
                
                self.showNotification('–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–æ –∏ –∑–∞–≥—Ä—É–∂–µ–Ω–æ', 'success');
                
            }, 'image/jpeg', 0.8); // 80% –∫–∞—á–µ—Å—Ç–≤–æ –¥–ª—è JPEG
        };
        
        img.onerror = function() {
            // –ï—Å–ª–∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –Ω–µ —É–¥–∞–ª–∞—Å—å, –∏—Å–ø–æ–ª—å–∑—É–µ–º –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π Blob URL
            const blobUrl = URL.createObjectURL(file);
            if (window.editor && window.editor.updateImageField) {
                window.editor.updateImageField(fieldId, blobUrl);
            }
            self.showNotification('–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∑–∞–≥—Ä—É–∂–µ–Ω–æ', 'success');
        };
        
        img.src = e.target.result;
    };
    
    reader.onerror = function() {
        self.showNotification('–û—à–∏–±–∫–∞ —á—Ç–µ–Ω–∏—è —Ñ–∞–π–ª–∞', 'error');
    };
    
    reader.readAsDataURL(file);
};

ImageManagerEnhanced.prototype.setImageUrlWithValidation = function(fieldId) {
    const currentValue = this.getCurrentImageValue(fieldId);
    const url = prompt('–í–≤–µ–¥–∏—Ç–µ URL –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è:', currentValue || '');
    
    if (url === null) return;
    
    if (url === '') {
        // –£–¥–∞–ª—è–µ–º –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
        if (window.editor && window.editor.removeImage) {
            window.editor.removeImage(fieldId);
        }
        return;
    }
    
    // –í–∞–ª–∏–¥–∞—Ü–∏—è URL
    if (this.validateImageUrl(url)) {
        if (window.editor && window.editor.updateImageField) {
            window.editor.updateImageField(fieldId, url);
        }
        this.showNotification('URL –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω', 'success');
    } else {
        this.showNotification('–í–≤–µ–¥–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π URL –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è (HTTP/HTTPS/data URL)', 'error');
    }
};

ImageManagerEnhanced.prototype.validateImageUrl = function(url) {
    try {
        // –ü—Ä–æ–≤–µ—Ä—è–µ–º –≤–∞–ª–∏–¥–Ω–æ—Å—Ç—å URL
        new URL(url);
        
        // –†–∞–∑—Ä–µ—à–∞–µ–º HTTP, HTTPS –∏ data URL
        return url.startsWith('http://') || 
               url.startsWith('https://') || 
               url.startsWith('data:image') ||
               url.startsWith('/') || // –û—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–µ –ø—É—Ç–∏
               url.startsWith('images/'); // –û—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–µ –ø—É—Ç–∏ –∫ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º
    } catch {
        return false;
    }
};

ImageManagerEnhanced.prototype.getCurrentImageValue = function(fieldId) {
    const field = document.querySelector(`[data-field="${fieldId}"]`);
    return field ? field.value : '';
};

ImageManagerEnhanced.prototype.formatFileSize = function(bytes) {
    if (bytes === 0) return '0 Bytes';
    const k = 1024;
    const sizes = ['Bytes', 'KB', 'MB', 'GB'];
    const i = Math.floor(Math.log(bytes) / Math.log(k));
    return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];
};

ImageManagerEnhanced.prototype.showNotification = function(message, type) {
    if (window.editor && window.editor.showNotification) {
        window.editor.showNotification(message, type);
    } else {
        // –§–æ–ª–±—ç–∫ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
        console.log(`${type === 'error' ? '‚ùå' : '‚úÖ'} ${message}`);
    }
};

// –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —É–ª—É—á—à–µ–Ω–Ω–æ–≥–æ –º–µ–Ω–µ–¥–∂–µ—Ä–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
new ImageManagerEnhanced();

// –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ–º –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ –¥—Ä—É–≥–∏—Ö –º–æ–¥—É–ª—è—Ö
window.ImageManagerEnhanced = ImageManagerEnhanced;



=== FILE: ./apply-critical-fixes.js ===
const fs = require('fs');

// 1. –ò—Å–ø—Ä–∞–≤–ª—è–µ–º –≤–µ—Ä—Å—Ç–∫—É –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤ –≤ index.html
console.log('üìû –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤–µ—Ä—Å—Ç–∫–∏ –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤...');
let indexHtml = fs.readFileSync('index.html', 'utf8');

// –ó–∞–º–µ–Ω—è–µ–º –≤—Å—é —Å–µ–∫—Ü–∏—é –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤ –Ω–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—É—é –≤–µ—Ä—Å–∏—é
const fixedContactsHTML = `
            <div class="contact-content" style="display: grid; grid-template-columns: 1fr 1fr; gap: 40px; align-items: start;">
                <div class="contact-info" style="background: white; padding: 30px; border-radius: 10px; box-shadow: 0 5px 15px rgba(0,0,0,0.1);">
                    <h3>–ù–∞—à–∏ –∫–æ–Ω—Ç–∞–∫—Ç—ã</h3>
                    <div class="contact-item">
                        <strong><i class="fas fa-phone"></i> –¢–µ–ª–µ—Ñ–æ–Ω:</strong>
                        <p>+7 (999) 123-45-67</p>
                    </div>
                    <div class="contact-item">
                        <strong><i class="fas fa-envelope"></i> Email:</strong>
                        <p>info@worldtravel.com</p>
                    </div>
                    <div class="contact-item">
                        <strong><i class="fas fa-map-marker-alt"></i> –ê–¥—Ä–µ—Å:</strong>
                        <p>–ú–æ—Å–∫–≤–∞, —É–ª. –¢—É—Ä–∏—Å—Ç–∏—á–µ—Å–∫–∞—è, 15</p>
                    </div>
                    <div class="contact-item">
                        <strong><i class="fas fa-clock"></i> –ß–∞—Å—ã —Ä–∞–±–æ—Ç—ã:</strong>
                        <p>–ü–Ω-–ü—Ç: 9:00-18:00</p>
                    </div>
                </div>
                <form class="contact-form" style="background: white; padding: 30px; border-radius: 10px; box-shadow: 0 5px 15px rgba(0,0,0,0.1); display: flex; flex-direction: column; gap: 15px;">
                    <input type="text" placeholder="–í–∞—à–µ –∏–º—è" required>
                    <input type="email" placeholder="–í–∞—à email" required>
                    <input type="tel" placeholder="–í–∞—à —Ç–µ–ª–µ—Ñ–æ–Ω">
                    <textarea placeholder="–í–∞—à–µ —Å–æ–æ–±—â–µ–Ω–∏–µ" rows="5" required></textarea>
                    <button type="submit">–û—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ</button>
                </form>
            </div>
`;

// –ù–∞—Ö–æ–¥–∏–º –∏ –∑–∞–º–µ–Ω—è–µ–º —Å–µ–∫—Ü–∏—é –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤
const contactSectionRegex = /<div class="contact-content">[\\s\\S]*?<\\/form>\\s*<\\/div>/;
if (contactSectionRegex.test(indexHtml)) {
    indexHtml = indexHtml.replace(contactSectionRegex, fixedContactsHTML);
    console.log('‚úÖ –°–µ–∫—Ü–∏—è –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤ –∑–∞–º–µ–Ω–µ–Ω–∞');
} else {
    // –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π –ø–æ–∏—Å–∫
    const alternativeRegex = /<section id="contact"[\\s\\S]*?<div class="container">[\\s\\S]*?<h2[\\s\\S]*?<\\/h2>([\\s\\S]*?)<\\/section>/;
    const match = indexHtml.match(alternativeRegex);
    if (match) {
        indexHtml = indexHtml.replace(match[1], fixedContactsHTML);
        console.log('‚úÖ –°–µ–∫—Ü–∏—è –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤ –∑–∞–º–µ–Ω–µ–Ω–∞ (–∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π –º–µ—Ç–æ–¥)');
    }
}

// 2. –î–æ–±–∞–≤–ª—è–µ–º —Å–∫—Ä–∏–ø—Ç—ã –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π
const scriptsToAdd = [
    'fix-contacts-layout.js',
    'fixed-stats-editor.js', 
    'enhanced-page-editor-fixed.js'
];

scriptsToAdd.forEach(script => {
    if (!indexHtml.includes(script)) {
        indexHtml = indexHtml.replace('</body>', `<script src="${script}"></script></body>`);
        console.log(`‚úÖ –î–æ–±–∞–≤–ª–µ–Ω —Å–∫—Ä–∏–ø—Ç: ${script}`);
    }
});

// 3. –°–æ—Ö—Ä–∞–Ω—è–µ–º –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–π index.html
fs.writeFileSync('index.html', indexHtml);
console.log('üíæ index.html —Å–æ—Ö—Ä–∞–Ω–µ–Ω —Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è–º–∏');

// 4. –¢–∞–∫–∂–µ –æ–±–Ω–æ–≤–ª—è–µ–º page-editor.html –µ—Å–ª–∏ –æ–Ω —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
try {
    let pageEditorHtml = fs.readFileSync('page-editor.html', 'utf8');
    
    // –î–æ–±–∞–≤–ª—è–µ–º –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ —Å–∫—Ä–∏–ø—Ç—ã
    if (!pageEditorHtml.includes('enhanced-page-editor-fixed.js')) {
        pageEditorHtml = pageEditorHtml.replace('</body>', '<script src="enhanced-page-editor-fixed.js"></script></body>');
        console.log('‚úÖ enhanced-page-editor-fixed.js –¥–æ–±–∞–≤–ª–µ–Ω –≤ page-editor.html');
    }
    
    if (!pageEditorHtml.includes('fixed-stats-editor.js')) {
        pageEditorHtml = pageEditorHtml.replace('</body>', '<script src="fixed-stats-editor.js"></script></body>');
        console.log('‚úÖ fixed-stats-editor.js –¥–æ–±–∞–≤–ª–µ–Ω –≤ page-editor.html');
    }
    
    fs.writeFileSync('page-editor.html', pageEditorHtml);
    console.log('üíæ page-editor.html –æ–±–Ω–æ–≤–ª–µ–Ω');
} catch (e) {
    console.log('‚ÑπÔ∏è page-editor.html –Ω–µ –Ω–∞–π–¥–µ–Ω, –ø—Ä–æ–ø—É—Å–∫–∞–µ–º...');
}

console.log('üéâ –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–∏–º–µ–Ω–µ–Ω—ã!');
console.log('üìã –ß—Ç–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:');
console.log('   ‚úÖ –í–µ—Ä—Å—Ç–∫–∞ –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤ (—É–±—Ä–∞–Ω—ã –ø–µ—Ä–µ–∫–æ—Å—ã)');
console.log('   ‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –≤ —Ä–µ–¥–∞–∫—Ç–æ—Ä–µ');
console.log('   ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã —É–ª—É—á—à–µ–Ω–Ω—ã–µ —Ä–µ–¥–∞–∫—Ç–æ—Ä—ã —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏');



=== FILE: ./data-sync-fix.js ===
// Data sync fix - ensures admin changes appear on main page
(function() {
    'use strict';
    
    console.log('üîß Data sync fix loaded');
    
    // Fix for data synchronization
    function initializeDataSync() {
        // Wait for data manager
        const checkDataManager = setInterval(() => {
            if (window.dataManager) {
                clearInterval(checkDataManager);
                setupDataSync();
            }
        }, 100);
        
        setTimeout(() => clearInterval(checkDataManager), 5000);
    }
    
    function setupDataSync() {
        // Override dataManager methods to trigger updates
        const originalSetData = window.dataManager.setData;
        if (originalSetData) {
            window.dataManager.setData = function(data) {
                const result = originalSetData.call(this, data);
                triggerContentUpdate(data);
                return result;
            };
        }
        
        // Listen for storage changes (for admin updates)
        window.addEventListener('storage', function(e) {
            if (e.key === 'worldtravel_data') {
                try {
                    const newData = JSON.parse(e.newValue);
                    triggerContentUpdate(newData);
                } catch (error) {
                    console.log('Storage update error:', error);
                }
            }
        });
        
        // Also check for data updates periodically
        setInterval(checkForDataUpdates, 2000);
        
        console.log('‚úÖ Data sync setup complete');
    }
    
    function triggerContentUpdate(data) {
        // Update exact content if available
        if (window.exactContentUpdater && window.exactContentUpdater.applyExactChanges) {
            window.exactContentUpdater.applyExactChanges(data);
        }
        
        // Update destinations if available
        if (window.loadDestinations && data && data.countries) {
            setTimeout(window.loadDestinations, 100);
        }
        
        // Update navigation
        if (window.updateExactNavigation && data && data.content) {
            window.updateExactNavigation(data.content);
        }
        
        console.log('üîÑ Content updated from admin changes');
    }
    
    function checkForDataUpdates() {
        try {
            const storedData = localStorage.getItem('worldtravel_data');
            if (storedData) {
                const data = JSON.parse(storedData);
                if (data && data.lastUpdate) {
                    // Check if data is newer than what we have
                    if (!window.lastDataUpdate || data.lastUpdate > window.lastDataUpdate) {
                        window.lastDataUpdate = data.lastUpdate;
                        triggerContentUpdate(data);
                    }
                }
            }
        } catch (error) {
            // Silent error
        }
    }
    
    // Initialize when DOM is ready
    if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', initializeDataSync);
    } else {
        initializeDataSync();
    }
})();



=== FILE: ./unified-contacts-editor.js ===
// Unified Contacts Editor - —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ä–µ–¥–∞–∫—Ç–æ—Ä
class UnifiedContactsEditor {
    constructor() {
        this.init();
    }

    init() {
        if (window.editor) {
            this.patchEditor();
        } else {
            setTimeout(() => this.init(), 100);
        }
    }

    patchEditor() {
        console.log('üìû Unified Contacts Editor initialized');

        const originalShow = window.editor.showContentEditor;
        
        window.editor.showContentEditor = function() {
            originalShow.call(this);
            setTimeout(() => {
                // –£–¥–∞–ª—è–µ–º –í–°–ï —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ä–µ–¥–∞–∫—Ç–æ—Ä—ã –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤
                this.removeAllContactEditors();
                
                // –î–æ–±–∞–≤–ª—è–µ–º —Ç–æ–ª—å–∫–æ –û–î–ò–ù —Ä–µ–¥–∞–∫—Ç–æ—Ä –¥–ª—è —Å–µ–∫—Ü–∏–∏ –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤
                if (this.currentSection?.id === 'contact') {
                    this.addUnifiedContactsEditor();
                }
            }, 100);
        };

        // –£–¥–∞–ª—è–µ–º –≤—Å–µ —Ä–µ–¥–∞–∫—Ç–æ—Ä—ã –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤
        window.editor.removeAllContactEditors = function() {
            const contentEditor = document.getElementById('content-editor');
            if (!contentEditor) return;
            
            // –£–¥–∞–ª—è–µ–º –≤—Å–µ –≤–æ–∑–º–æ–∂–Ω—ã–µ —Ä–µ–¥–∞–∫—Ç–æ—Ä—ã –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤
            const contactEditors = contentEditor.querySelectorAll('[data-contacts-editor], .contact-manager, [class*="contact-editor"]');
            contactEditors.forEach(editor => editor.remove());
            
            console.log('üßπ Removed all contact editors');
        };

        // –î–æ–±–∞–≤–ª—è–µ–º –µ–¥–∏–Ω—ã–π —Ä–µ–¥–∞–∫—Ç–æ—Ä –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤
        window.editor.addUnifiedContactsEditor = function() {
            const contentEditor = document.getElementById('content-editor');
            if (!contentEditor) return;

            const data = window.dataManager?.getData();
            const contacts = data?.contacts || {};
            
            const html = '<div class="unified-contacts-editor" data-contacts-editor="true" style="background: #f8f9fa; padding: 25px; border-radius: 10px; margin: 25px 0; border: 2px solid #e9ecef;">' +
                '<h4 style="color: #2c5aa0; margin-bottom: 15px; display: flex; align-items: center; gap: 10px;">' +
                '<i class="fas fa-address-book"></i>' +
                'üìû –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤' +
                '</h4>' +
                '<div style="color: #666; margin-bottom: 20px; padding: 12px; background: white; border-radius: 6px; border-left: 4px solid #2c5aa0;">' +
                'üí° –ò–∑–º–µ–Ω–µ–Ω–∏—è –ø–æ—è–≤—è—Ç—Å—è –≤ —Å–µ–∫—Ü–∏–∏ –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤ –∏ —Ñ—É—Ç–µ—Ä–µ –Ω–∞ –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ.' +
                '</div>' +
                '<div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">' +
                '<div>' +
                '<label style="display: block; margin-bottom: 8px; font-weight: 600; color: #333;">–¢–µ–ª–µ—Ñ–æ–Ω:</label>' +
                '<input type="text" class="form-control" value="' + (contacts.phone || '') + '" placeholder="+7 (999) 123-45-67" oninput="editor.updateContactData(\'phone\', this.value)">' +
                '</div>' +
                '<div>' +
                '<label style="display: block; margin-bottom: 8px; font-weight: 600; color: #333;">Email:</label>' +
                '<input type="email" class="form-control" value="' + (contacts.email || '') + '" placeholder="info@worldtravel.com" oninput="editor.updateContactData(\'email\', this.value)">' +
                '</div>' +
                '<div>' +
                '<label style="display: block; margin-bottom: 8px; font-weight: 600; color: #333;">–ê–¥—Ä–µ—Å:</label>' +
                '<input type="text" class="form-control" value="' + (contacts.address || '') + '" placeholder="–ú–æ—Å–∫–≤–∞, —É–ª. –¢—É—Ä–∏—Å—Ç–∏—á–µ—Å–∫–∞—è, 15" oninput="editor.updateContactData(\'address\', this.value)">' +
                '</div>' +
                '<div>' +
                '<label style="display: block; margin-bottom: 8px; font-weight: 600; color: #333;">–ß–∞—Å—ã —Ä–∞–±–æ—Ç—ã:</label>' +
                '<input type="text" class="form-control" value="' + (contacts.hours || '') + '" placeholder="–ü–Ω-–ü—Ç: 9:00-18:00" oninput="editor.updateContactData(\'hours\', this.value)">' +
                '</div>' +
                '</div>' +
                '</div>';

            const titleField = contentEditor.querySelector('[data-field="title"]');
            if (titleField) {
                titleField.closest('.form-group').insertAdjacentHTML('afterend', html);
                console.log('‚úÖ Added unified contacts editor');
            }
        };

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤
        window.editor.updateContactData = function(field, value) {
            if (!window.dataManager) {
                console.error('‚ùå DataManager not available');
                return;
            }
            
            const data = window.dataManager.getData();
            if (!data.contacts) {
                data.contacts = {};
            }
            
            data.contacts[field] = value;
            
            // –°–æ—Ö—Ä–∞–Ω—è–µ–º –¥–∞–Ω–Ω—ã–µ
            if (window.dataManager.updateContacts) {
                window.dataManager.updateContacts(data.contacts);
            } else {
                window.dataManager.setData(data);
            }
            
            this.hasUnsavedChanges = true;
            
            if (this.showNotification) {
                this.showNotification('–ö–æ–Ω—Ç–∞–∫—Ç –æ–±–Ω–æ–≤–ª–µ–Ω: ' + value, 'success');
            }
            
            console.log('üíæ Contact updated:', field, value);
        };
    }
}

new UnifiedContactsEditor();



=== FILE: ./debug-data-flow.js ===
// Debug data flow between admin and main page
console.log='üîç DEBUG DATA FLOW STARTED';

// Monitor all storage operations
const originalSetItem = localStorage.setItem;
localStorage.setItem = function(key, value) {
    console.log('üíæ localStorage.setItem:', key, value ? `length: ${value.length}` : 'null');
    if (key === 'worldtravel_data') {
        console.log('üì¶ WORLD TRAVEL DATA SAVED:', value ? value.substring(0, 100) + '...' : 'null');
    }
    return originalSetItem.call(this, key, value);
};

const originalGetItem = localStorage.getItem;
localStorage.getItem = function(key) {
    const value = originalGetItem.call(this, key);
    if (key === 'worldtravel_data') {
        console.log('üì• localStorage.getItem:', key, value ? `length: ${value.length}` : 'null');
    }
    return value;
};

// Monitor storage events
window.addEventListener('storage', function(e) {
    console.log('üîÑ STORAGE EVENT:', e.key, e.newValue ? `new: ${e.newValue.length}` : 'null', e.oldValue ? `old: ${e.oldValue.length}` : 'null');
});

// Check current data state
setTimeout(() => {
    console.log('=== CURRENT DATA STATE ===');
    const data = localStorage.getItem('worldtravel_data');
    console.log('Data exists:', !!data);
    if (data) {
        try {
            const parsed = JSON.parse(data);
            console.log('Data structure:', Object.keys(parsed));
            console.log('Contacts:', parsed.contacts);
            console.log('Footer:', parsed.footer);
            console.log('Content sections:', parsed.content ? Object.keys(parsed.content) : 'none');
        } catch (e) {
            console.log('Data parsing error:', e);
        }
    }
}, 2000);

// Test function to manually trigger sync
window.debugSync = function() {
    console.log('üîÑ MANUAL SYNC TRIGGERED');
    const data = localStorage.getItem('worldtravel_data');
    if (data && window.forceSync) {
        window.forceSync();
    }
};



=== FILE: ./page-editor.html ===
<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–†–µ–¥–∞–∫—Ç–æ—Ä —Å—Ç—Ä–∞–Ω–∏—Ü - WorldTravel</title>
    <link rel="stylesheet" href="admin-style.css">
    <link rel="stylesheet" href="layout-fixes.css">
    <link rel="stylesheet" href="input-fixes.css">
    <link rel="stylesheet" href="enhanced-editor.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        /* –í—Å–µ —Å—Ç–∏–ª–∏ –∏–∑ –ø—Ä–µ–¥—ã–¥—É—â–µ–π –≤–µ—Ä—Å–∏–∏ */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', sans-serif;
            background: #f5f7fa;
            height: 100vh;
            overflow: hidden;
        }

        .editor-container {
            display: flex;
            height: 100vh;
        }

        .preview-panel {
            flex: 1;
            background: white;
            display: flex;
            flex-direction: column;
            position: relative;
        }

        .editor-panel {
            width: 450px;
            background: white;
            border-left: 2px solid #e1e5e9;
            display: flex;
            flex-direction: column;
        }

        .panel-header {
            padding: 20px;
            background: #2c5aa0;
            color: white;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-shrink: 0;
        }

        .panel-content {
            flex: 1;
            overflow-y: auto;
            padding: 20px;
        }

        .preview-frame-container {
            flex: 1;
            position: relative;
            overflow: hidden;
        }

        .preview-frame {
            width: 100%;
            height: 100%;
            border: none;
        }

        .section-list {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .section-item {
            padding: 15px;
            background: #f8f9fa;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
        }

        .section-item:hover {
            border-color: #2c5aa0;
            background: #e3f2fd;
        }

        .section-item.active {
            border-color: #2c5aa0;
            background: #2c5aa0;
            color: white;
        }

        .section-title {
            font-weight: 600;
            margin-bottom: 5px;
        }

        .section-desc {
            font-size: 0.9em;
            color: #666;
        }

        .section-item.active .section-desc {
            color: #e0e0e0;
        }

        .section-actions {
            position: absolute;
            top: 10px;
            right: 10px;
            display: flex;
            gap: 5px;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .section-item:hover .section-actions {
            opacity: 1;
        }

        .section-item.active .section-actions {
            opacity: 1;
        }

        .btn-section-action {
            background: rgba(255,255,255,0.9);
            border: none;
            width: 30px;
            height: 30px;
            border-radius: 4px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            transition: all 0.3s ease;
        }

        .btn-section-action:hover {
            background: white;
            transform: scale(1.1);
        }

        .btn-section-action.delete {
            color: #dc3545;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: 600;
            color: #333;
        }

        .form-control {
            width: 100%;
            padding: 12px;
            border: 2px solid #e9ecef;
            border-radius: 6px;
            font-size: 14px;
            transition: border-color 0.3s ease;
        }

        .form-control:focus {
            outline: none;
            border-color: #2c5aa0;
            box-shadow: 0 0 0 3px rgba(44, 90, 160, 0.1);
        }

        textarea.form-control {
            resize: vertical;
            min-height: 100px;
            font-family: inherit;
        }

        .btn {
            padding: 12px 24px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 600;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }

        .btn-primary {
            background: #2c5aa0;
            color: white;
        }

        .btn-primary:hover {
            background: #1e3d6f;
            transform: translateY(-1px);
        }

        .btn-secondary {
            background: #6c757d;
            color: white;
        }

        .btn-secondary:hover {
            background: #545b62;
        }

        .btn-success {
            background: #28a745;
            color: white;
        }

        .btn-success:hover {
            background: #218838;
        }

        .btn-warning {
            background: #ffc107;
            color: #000;
        }

        .btn-warning:hover {
            background: #e0a800;
        }

        .btn-danger {
            background: #dc3545;
            color: white;
        }

        .btn-danger:hover {
            background: #c82333;
        }

        .btn-small {
            padding: 8px 16px;
            font-size: 12px;
        }

        .empty-state {
            text-align: center;
            padding: 60px 20px;
            color: #666;
        }

        .empty-state i {
            font-size: 3em;
            margin-bottom: 15px;
            color: #ccc;
        }

        .action-buttons {
            display: flex;
            gap: 10px;
            margin-top: 25px;
            padding-top: 20px;
            border-top: 2px solid #f0f0f0;
        }

        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 16px 20px;
            border-radius: 8px;
            background: #28a745;
            color: white;
            z-index: 10000;
            animation: slideInRight 0.3s ease;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
            display: flex;
            align-items: center;
            gap: 10px;
            font-weight: 500;
        }

        .notification.error {
            background: #dc3545;
        }

        @keyframes slideInRight {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }

        .tab-buttons {
            display: flex;
            background: #f8f9fa;
            border-bottom: 1px solid #e9ecef;
        }

        .tab-button {
            flex: 1;
            padding: 16px;
            border: none;
            background: transparent;
            cursor: pointer;
            border-bottom: 3px solid transparent;
            font-weight: 500;
            transition: all 0.3s ease;
        }

        .tab-button.active {
            border-bottom-color: #2c5aa0;
            background: white;
            color: #2c5aa0;
        }

        .content-header {
            margin-bottom: 25px;
            padding-bottom: 15px;
            border-bottom: 2px solid #f0f0f0;
        }

        .save-indicator {
            background: #d4edda;
            color: #155724;
            padding: 10px 15px;
            border-radius: 5px;
            margin: 10px 0;
            display: none;
            align-items: center;
            gap: 8px;
        }

        .save-indicator.show {
            display: flex;
        }
    </style>
    <link rel="stylesheet" href="clean-overflow-fix.css">
</head>
<body>
    <div class="editor-container">
        <div class="preview-panel">
            <div class="panel-header">
                <h2>–ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä —Å—Ç—Ä–∞–Ω–∏—Ü—ã</h2>
                <div>
                    <button class="btn btn-warning" onclick="editor.showAddSectionModal()">
                        <i class="fas fa-plus"></i> –î–æ–±–∞–≤–∏—Ç—å —Å–µ–∫—Ü–∏—é
                    </button>
                    <button class="btn btn-secondary" onclick="editor.safeRefresh()" style="margin-left: 10px;">
                        <i class="fas fa-sync"></i> –û–±–Ω–æ–≤–∏—Ç—å
                    </button>
                    <button class="btn btn-success" onclick="editor.saveAndExit()" style="margin-left: 10px;">
                        <i class="fas fa-save"></i> –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏ –≤—ã–π—Ç–∏
                    </button>
                </div>
            </div>
            
            <div class="save-indicator" id="save-indicator">
                <i class="fas fa-check-circle"></i>
                <span id="save-message">–ò–∑–º–µ–Ω–µ–Ω–∏—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã</span>
            </div>

            <div class="preview-frame-container">
                <iframe class="preview-frame" id="preview-frame" src="index.html?editor=true&nocache=1"></iframe>
            </div>
        </div>

        <div class="editor-panel">
            <div class="panel-header">
                <h2>–†–µ–¥–∞–∫—Ç–æ—Ä –∫–æ–Ω—Ç–µ–Ω—Ç–∞</h2>
            </div>
            
            <div class="tab-buttons">
                <button class="tab-button active" data-tab="sections">–°–µ–∫—Ü–∏–∏</button>
                <button class="tab-button" data-tab="content">–ö–æ–Ω—Ç–µ–Ω—Ç</button>
            </div>

            <div class="panel-content" id="sections-tab">
                <div class="content-header">
                    <h3>–°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã</h3>
                    <p style="color: #666; margin-top: 5px; font-size: 0.9em;">–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ–∫—Ü–∏—è–º–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã</p>
                </div>
                <div class="section-list" id="section-list">
                    <!-- –°–µ–∫—Ü–∏–∏ –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–µ–Ω—ã —á–µ—Ä–µ–∑ JS -->
                </div>
            </div>

            <div class="panel-content" id="content-tab" style="display: none;">
                <div id="content-editor">
                    <div class="empty-state">
                        <i class="fas fa-mouse-pointer"></i>
                        <p>–í—ã–±–µ—Ä–∏—Ç–µ —Å–µ–∫—Ü–∏—é –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è</p>
                        <small>–ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ –≤–∫–ª–∞–¥–∫—É "–°–µ–∫—Ü–∏–∏" –∏ –≤—ã–±–µ—Ä–∏—Ç–µ –Ω—É–∂–Ω—ã–π –±–ª–æ–∫</small>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
    <script src="fix-editor-saving.js"></script>
        // –£–ø—Ä–æ—â–µ–Ω–Ω–∞—è –∏ —Å—Ç–∞–±–∏–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞
        function StablePageEditor() {
            this.currentSection = null;
            this.currentData = {};
            this.hasUnsavedChanges = false;
            this.sections = [];
            
            this.init();
        }

        StablePageEditor.prototype.init = function() {
            console.log('üöÄ –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞...');
            this.loadCurrentData();
            this.setupTabHandlers();
            this.loadSectionsList();
            
            var self = this;
            setTimeout(function() {
                if (self.sections.length > 0) {
                    self.selectSection(self.sections[0].id);
                }
            }, 1000);
        };

        StablePageEditor.prototype.loadCurrentData = function() {
            console.log('üìÅ –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö...');
            
            // –ü—Ä–æ–±—É–µ–º —Ä–∞–∑–Ω—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ –¥–∞–Ω–Ω—ã—Ö
            if (typeof window.dataManager !== 'undefined' && window.dataManager) {
                this.currentData = window.dataManager.getData() || {};
                console.log('‚úÖ –î–∞–Ω–Ω—ã–µ –∑–∞–≥—Ä—É–∂–µ–Ω—ã –∏–∑ DataManager');
            } else {
                console.log('‚ö†Ô∏è DataManager –Ω–µ –¥–æ—Å—Ç—É–ø–µ–Ω, –ø—Ä–æ–±—É–µ–º localStorage');
                this.currentData = this.getLocalData();
            }
            
            this.loadSectionsFromData();
            console.log('üìä –ó–∞–≥—Ä—É–∂–µ–Ω–æ —Å–µ–∫—Ü–∏–π:', this.sections.length);
        };

        StablePageEditor.prototype.getLocalData = function() {
            var localData = localStorage.getItem('worldtravel_data');
            if (localData) {
                try {
                    return JSON.parse(localData);
                } catch (e) {
                    console.error('‚ùå –û—à–∏–±–∫–∞ –ø–∞—Ä—Å–∏–Ω–≥–∞ localStorage:', e);
                }
            }
            
            // –í–æ–∑–≤—Ä–∞—â–∞–µ–º —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–∞–Ω–Ω—ã—Ö
            return {
                content: {
                    hero: { 
                        id: 'hero',
                        type: 'hero',
                        name: '–ì–ª–∞–≤–Ω—ã–π –±–∞–Ω–Ω–µ—Ä',
                        title: '–û—Ç–∫—Ä–æ–π—Ç–µ –º–∏—Ä —Å WorldTravel', 
                        subtitle: '–ú—ã —Å–æ–∑–¥–∞–µ–º –Ω–µ–∑–∞–±—ã–≤–∞–µ–º—ã–µ –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏—è –ø–æ –≤—Å–µ–º—É –º–∏—Ä—É.',
                        image: 'images/travel-placeholder.svg'
                    },
                    about: { 
                        id: 'about',
                        type: 'about',
                        name: '–û –∫–æ–º–ø–∞–Ω–∏–∏',
                        title: '–û –Ω–∞—à–µ–π –∫–æ–º–ø–∞–Ω–∏–∏', 
                        description: 'WorldTravel - —ç—Ç–æ –∫–æ–º–∞–Ω–¥–∞ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã—Ö –ø—É—Ç–µ—à–µ—Å—Ç–≤–µ–Ω–Ω–∏–∫–æ–≤ –∏ —ç–∫—Å–ø–µ—Ä—Ç–æ–≤ –ø–æ —Ç—É—Ä–∏–∑–º—É.',
                        image: 'images/travel-placeholder.svg'
                    },
                    services: { 
                        id: 'services',
                        type: 'services',
                        name: '–£—Å–ª—É–≥–∏',
                        title: '–ù–∞—à–∏ —É—Å–ª—É–≥–∏'
                    },
                    destinations: { 
                        id: 'destinations',
                        type: 'destinations',
                        name: '–ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è',
                        title: '–ü–æ–ø—É–ª—è—Ä–Ω—ã–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è'
                    },
                    contact: { 
                        id: 'contact',
                        type: 'contact',
                        name: '–ö–æ–Ω—Ç–∞–∫—Ç—ã',
                        title: '–°–≤—è–∂–∏—Ç–µ—Å—å —Å –Ω–∞–º–∏'
                    }
                },
                footer: { 
                    id: 'footer',
                    type: 'footer',
                    name: '–§—É—Ç–µ—Ä',
                    description: '–í–∞—à –Ω–∞–¥–µ–∂–Ω—ã–π –ø–∞—Ä—Ç–Ω–µ—Ä –≤ –º–∏—Ä–µ –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏–π.',
                    copyright: '&copy; 2024 WorldTravel. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.'
                },
                pageStructure: ['hero', 'about', 'services', 'destinations', 'contact'],
                lastUpdate: new Date().toISOString()
            };
        };

        StablePageEditor.prototype.loadSectionsFromData = function() {
            this.sections = [];
            console.log('üîÑ –ó–∞–≥—Ä—É–∑–∫–∞ —Å–µ–∫—Ü–∏–π –∏–∑ –¥–∞–Ω–Ω—ã—Ö...');
            
            // –°–æ–∑–¥–∞–µ–º –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Å–ø–∏—Å–æ–∫ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã—Ö —Å–µ–∫—Ü–∏–π
            var defaultSections = [
                { id: 'hero', type: 'hero', name: '–ì–ª–∞–≤–Ω—ã–π –±–∞–Ω–Ω–µ—Ä', description: '–ó–∞–≥–æ–ª–æ–≤–æ–∫ –∏ –æ–ø–∏—Å–∞–Ω–∏–µ –Ω–∞ –≥–ª–∞–≤–Ω–æ–π' },
                { id: 'about', type: 'about', name: '–û –∫–æ–º–ø–∞–Ω–∏–∏', description: '–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–æ–º–ø–∞–Ω–∏–∏' },
                { id: 'services', type: 'services', name: '–£—Å–ª—É–≥–∏', description: '–°–ø–∏—Å–æ–∫ —É—Å–ª—É–≥ –∫–æ–º–ø–∞–Ω–∏–∏' },
                { id: 'destinations', type: 'destinations', name: '–ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è', description: '–ü–æ–ø—É–ª—è—Ä–Ω—ã–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è' },
                { id: 'contact', type: 'contact', name: '–ö–æ–Ω—Ç–∞–∫—Ç—ã', description: '–ö–æ–Ω—Ç–∞–∫—Ç–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è' }
            ];
            
            // –î–æ–±–∞–≤–ª—è–µ–º —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ —Å–µ–∫—Ü–∏–∏
            var self = this;
            defaultSections.forEach(function(section) {
                if (self.currentData.content && self.currentData.content[section.id]) {
                    self.sections.push({
                        id: section.id,
                        type: section.type,
                        name: self.currentData.content[section.id].name || section.name,
                        description: section.description
                    });
                } else {
                    // –ï—Å–ª–∏ —Å–µ–∫—Ü–∏–∏ –Ω–µ—Ç –≤ –¥–∞–Ω–Ω—ã—Ö, –≤—Å–µ —Ä–∞–≤–Ω–æ –¥–æ–±–∞–≤–ª—è–µ–º –µ–µ
                    self.sections.push(section);
                }
            });
            
            // –î–æ–±–∞–≤–ª—è–µ–º —Ñ—É—Ç–µ—Ä
            if (this.currentData.footer) {
                this.sections.push({
                    id: 'footer',
                    type: 'footer',
                    name: '–§—É—Ç–µ—Ä',
                    description: '–¢–µ–∫—Å—Ç –≤ –ø–æ–¥–≤–∞–ª–µ —Å–∞–π—Ç–∞'
                });
            }
            
            // –î–æ–±–∞–≤–ª—è–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —Å–µ–∫—Ü–∏–∏ –∏–∑ pageStructure
            if (this.currentData.pageStructure) {
                this.currentData.pageStructure.forEach(function(sectionId) {
                    if (sectionId.startsWith('section-') && self.currentData.content && self.currentData.content[sectionId]) {
                        var sectionData = self.currentData.content[sectionId];
                        self.sections.push({
                            id: sectionId,
                            type: sectionData.type || 'custom',
                            name: sectionData.name || '–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∞—è —Å–µ–∫—Ü–∏—è',
                            description: '–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –±–ª–æ–∫'
                        });
                    }
                });
            }
            
            console.log('‚úÖ –ó–∞–≥—Ä—É–∂–µ–Ω–æ —Å–µ–∫—Ü–∏–π:', this.sections.length);
        };

        StablePageEditor.prototype.setupTabHandlers = function() {
            var tabButtons = document.querySelectorAll('.tab-button');
            var self = this;
            
            tabButtons.forEach(function(button) {
                button.addEventListener('click', function(e) {
                    var tabName = e.target.getAttribute('data-tab');
                    if (tabName) {
                        self.showTab(tabName);
                    }
                });
            });
        };

        StablePageEditor.prototype.loadSectionsList = function() {
            var container = document.getElementById('section-list');
            container.innerHTML = '';

            if (this.sections.length === 0) {
                container.innerHTML = '\
                    <div class="empty-state">\
                        <i class="fas fa-inbox"></i>\
                        <p>–°–µ–∫—Ü–∏–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã</p>\
                        <small>–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –æ–±–Ω–æ–≤–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É</small>\
                    </div>\
                ';
                return;
            }

            var self = this;
            this.sections.forEach(function(section) {
                var sectionElement = document.createElement('div');
                sectionElement.className = 'section-item ' + (self.currentSection && self.currentSection.id === section.id ? 'active' : '');
                sectionElement.setAttribute('data-section', section.id);
                
                sectionElement.innerHTML = '\
                    <div class="section-title">' + section.name + '</div>\
                    <div class="section-desc">' + section.description + '</div>\
                ';

                sectionElement.addEventListener('click', function() {
                    self.selectSection(section.id);
                });

                container.appendChild(sectionElement);
            });
            
            console.log('‚úÖ –°–ø–∏—Å–æ–∫ —Å–µ–∫—Ü–∏–π –∑–∞–≥—Ä—É–∂–µ–Ω:', this.sections.length, '—ç–ª–µ–º–µ–Ω—Ç–æ–≤');
        };

        StablePageEditor.prototype.selectSection = function(sectionId) {
            console.log('üéØ –í—ã–±–æ—Ä —Å–µ–∫—Ü–∏–∏:', sectionId);
            
            document.querySelectorAll('.section-item').forEach(function(item) {
                item.classList.remove('active');
            });

            var selectedItem = document.querySelector('[data-section="' + sectionId + '"]');
            if (selectedItem) {
                selectedItem.classList.add('active');
            }

            this.currentSection = this.sections.find(function(s) {
                return s.id === sectionId;
            });
            
            this.showContentEditor();
            this.showTab('content');
        };

        StablePageEditor.prototype.showTab = function(tabName) {
            document.querySelectorAll('.panel-content').forEach(function(tab) {
                tab.style.display = 'none';
            });
            
            var targetTab = document.getElementById(tabName + '-tab');
            if (targetTab) {
                targetTab.style.display = 'block';
            }
            
            document.querySelectorAll('.tab-button').forEach(function(btn) {
                btn.classList.remove('active');
            });
            
            var targetButton = document.querySelector('[data-tab="' + tabName + '"]');
            if (targetButton) {
                targetButton.classList.add('active');
            }
        };

        StablePageEditor.prototype.showContentEditor = function() {
            if (!this.currentSection) {
                var editor = document.getElementById('content-editor');
                editor.innerHTML = '\
                    <div class="empty-state">\
                        <i class="fas fa-mouse-pointer"></i>\
                        <p>–í—ã–±–µ—Ä–∏—Ç–µ —Å–µ–∫—Ü–∏—é –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è</p>\
                    </div>\
                ';
                return;
            }

            var editor = document.getElementById('content-editor');
            var currentTitle = this.getCurrentValue('title');
            var currentName = this.getCurrentValue('name');
            
            var editorHTML = '\
                <div class="content-header">\
                    <h3>' + this.currentSection.name + '</h3>\
                    <p style="color: #666; margin-top: 5px; font-size: 0.9em;">–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ —Å–µ–∫—Ü–∏–∏</p>\
                </div>\
                <div class="form-group">\
                    <label>–ù–∞–∑–≤–∞–Ω–∏–µ —Å–µ–∫—Ü–∏–∏ (–≤ —Ä–µ–¥–∞–∫—Ç–æ—Ä–µ):</label>\
                    <input type="text" class="form-control" data-field="name" value="' + (currentName || this.currentSection.name) + '" placeholder="–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ —Å–µ–∫—Ü–∏–∏...">\
                </div>\
                <div class="form-group">\
                    <label>–ó–∞–≥–æ–ª–æ–≤–æ–∫ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ:</label>\
                    <input type="text" class="form-control" data-field="title" value="' + (currentTitle || '') + '" placeholder="–í–≤–µ–¥–∏—Ç–µ –∑–∞–≥–æ–ª–æ–≤–æ–∫...">\
                </div>\
            ';

            // –î–æ–±–∞–≤–ª—è–µ–º —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –ø–æ–ª—è –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤ —Å–µ–∫—Ü–∏–π
            switch (this.currentSection.type) {
                case 'hero':
                    editorHTML += this.getHeroEditor();
                    break;
                case 'about':
                    editorHTML += this.getAboutEditor();
                    break;
                case 'services':
                    editorHTML += this.getServicesEditor();
                    break;
                case 'footer':
                    editorHTML += this.getFooterEditor();
                    break;
            }

            editorHTML += '\
                <div class="action-buttons">\
                    <button class="btn btn-primary" onclick="editor.saveChanges()">\
                        <i class="fas fa-save"></i> –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è\
                    </button>\
                    <button class="btn btn-secondary" onclick="editor.showTab(\'sections\')">\
                        <i class="fas fa-arrow-left"></i> –ù–∞–∑–∞–¥ –∫ —Å–ø–∏—Å–∫—É\
                    </button>\
                </div>\
                <div style="background: #f8f9fa; padding: 10px; border-radius: 5px; margin-top: 20px;">\
                    <strong>–û—Ç–ª–∞–¥–∫–∞:</strong> ID: ' + this.currentSection.id + ' | –¢–∏–ø: ' + this.currentSection.type + '\
                </div>\
            ';

            editor.innerHTML = editorHTML;
            this.hasUnsavedChanges = false;
        };

        StablePageEditor.prototype.getHeroEditor = function() {
            var currentSubtitle = this.getCurrentValue('subtitle');
            return '\
                <div class="form-group">\
                    <label>–ü–æ–¥–∑–∞–≥–æ–ª–æ–≤–æ–∫:</label>\
                    <textarea class="form-control" data-field="subtitle" placeholder="–í–≤–µ–¥–∏—Ç–µ –ø–æ–¥–∑–∞–≥–æ–ª–æ–≤–æ–∫...">' + (currentSubtitle || '') + '</textarea>\
                </div>\
            ';
        };

        StablePageEditor.prototype.getAboutEditor = function() {
            var currentDescription = this.getCurrentValue('description');
            return '\
                <div class="form-group">\
                    <label>–û–ø–∏—Å–∞–Ω–∏–µ –∫–æ–º–ø–∞–Ω–∏–∏:</label>\
                    <textarea class="form-control" data-field="description" placeholder="–í–≤–µ–¥–∏—Ç–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∫–æ–º–ø–∞–Ω–∏–∏...">' + (currentDescription || '') + '</textarea>\
                </div>\
            ';
        };

        StablePageEditor.prototype.getServicesEditor = function() {
            return '\
                <div class="form-group">\
                    <label>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —É—Å–ª—É–≥–∞–º–∏:</label>\
                    <p style="color: #666; font-size: 0.9em;">–î–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Å–ø–∏—Å–∫–∞ —É—Å–ª—É–≥ –ø–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –æ—Å–Ω–æ–≤–Ω—É—é –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å ‚Üí –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–Ω—Ç–æ–º</p>\
                </div>\
            ';
        };

        StablePageEditor.prototype.getFooterEditor = function() {
            var currentDescription = this.getCurrentValue('description');
            var currentCopyright = this.getCurrentValue('copyright');
            
            return '\
                <div class="form-group">\
                    <label>–û–ø–∏—Å–∞–Ω–∏–µ –≤ —Ñ—É—Ç–µ—Ä–µ:</label>\
                    <textarea class="form-control" data-field="description" placeholder="–í–≤–µ–¥–∏—Ç–µ –æ–ø–∏—Å–∞–Ω–∏–µ –¥–ª—è —Ñ—É—Ç–µ—Ä–∞...">' + (currentDescription || '') + '</textarea>\
                </div>\
                <div class="form-group">\
                    <label>–¢–µ–∫—Å—Ç –∫–æ–ø–∏—Ä–∞–π—Ç–∞:</label>\
                    <input type="text" class="form-control" data-field="copyright" value="' + (currentCopyright || '') + '" placeholder="–í–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç –∫–æ–ø–∏—Ä–∞–π—Ç–∞...">\
                </div>\
            ';
        };

        StablePageEditor.prototype.getCurrentValue = function(fieldId) {
            // –î–ª—è —Ñ—É—Ç–µ—Ä–∞
            if (this.currentSection.id === 'footer') {
                if (this.currentData.footer && this.currentData.footer[fieldId]) {
                    return this.escapeHtml(this.currentData.footer[fieldId]);
                }
            }
            
            // –î–ª—è –∫–æ–Ω—Ç–µ–Ω—Ç–Ω—ã—Ö —Å–µ–∫—Ü–∏–π
            if (this.currentData.content && this.currentData.content[this.currentSection.id]) {
                var sectionData = this.currentData.content[this.currentSection.id];
                if (sectionData[fieldId]) {
                    return this.escapeHtml(sectionData[fieldId]);
                }
            }
            
            return '';
        };

        StablePageEditor.prototype.saveChanges = function() {
            if (!this.currentSection) return;

            try {
                var formData = {};
                document.querySelectorAll('#content-editor [data-field]').forEach(function(input) {
                    var fieldId = input.getAttribute('data-field');
                    formData[fieldId] = input.value;
                });

                // –°–æ—Ö—Ä–∞–Ω—è–µ–º –¥–∞–Ω–Ω—ã–µ –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É
                if (this.currentSection.id === 'footer') {
                    if (!this.currentData.footer) this.currentData.footer = {};
                    Object.keys(formData).forEach(function(fieldId) {
                        this.currentData.footer[fieldId] = formData[fieldId];
                    }.bind(this));
                } else {
                    if (!this.currentData.content[this.currentSection.id]) {
                        this.currentData.content[this.currentSection.id] = {};
                    }
                    Object.keys(formData).forEach(function(fieldId) {
                        this.currentData.content[this.currentSection.id][fieldId] = formData[fieldId];
                    }.bind(this));
                }

                // –û–±–Ω–æ–≤–ª—è–µ–º –Ω–∞–∑–≤–∞–Ω–∏–µ —Å–µ–∫—Ü–∏–∏ –≤ —Å–ø–∏—Å–∫–µ, –µ—Å–ª–∏ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å
                if (formData.name && formData.name !== this.currentSection.name) {
                    this.currentSection.name = formData.name;
                    this.loadSectionsList();
                }

                this.saveData();
                this.hasUnsavedChanges = false;
                this.showNotification('–ò–∑–º–µ–Ω–µ–Ω–∏—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã —É—Å–ø–µ—à–Ω–æ!', 'success');
                this.safeRefresh();
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è:', error);
                this.showNotification('–û—à–∏–±–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è: ' + error.message, 'error');
            }
        };

        StablePageEditor.prototype.saveData = function() {
            try {
                this.currentData.lastUpdate = new Date().toISOString();
                localStorage.setItem('worldtravel_data', JSON.stringify(this.currentData));
                
                if (typeof window.dataManager !== 'undefined' && window.dataManager) {
                    window.dataManager.setData(this.currentData);
                }
                
                console.log('üíæ –î–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã');
                return true;
            } catch (error) {
                console.error('‚ùå –û—à–∏–±–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è:', error);
                return false;
            }
        };

        StablePageEditor.prototype.safeRefresh = function() {
            var frame = document.getElementById('preview-frame');
            var currentSrc = frame.src.split('?')[0];
            frame.src = currentSrc + '?editor=true&nocache=1&t=' + Date.now();
        };

        StablePageEditor.prototype.saveAndExit = function() {
            window.location.href = 'admin.html';
        };

        StablePageEditor.prototype.showAddSectionModal = function() {
            this.showNotification('–§—É–Ω–∫—Ü–∏—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Å–µ–∫—Ü–∏–π –≤—Ä–µ–º–µ–Ω–Ω–æ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞', 'error');
        };

        StablePageEditor.prototype.showNotification = function(message, type) {
            type = type || 'success';
            var notification = document.createElement('div');
            notification.className = 'notification ' + (type === 'error' ? 'error' : '');
            notification.innerHTML = '\
                <i class="fas fa-' + (type === 'error' ? 'exclamation-triangle' : 'check-circle') + '"></i>\
                ' + message + '\
            ';
            
            document.body.appendChild(notification);
            
            setTimeout(function() {
                if (notification.parentElement) {
                    notification.remove();
                }
            }, 4000);
        };

        StablePageEditor.prototype.escapeHtml = function(text) {
            if (!text) return '';
            var div = document.createElement('div');
            div.textContent = text;
            return div.innerHTML;
        };

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞
        var editor = new StablePageEditor();
        window.editor = editor;

        // –ì–ª–æ–±–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
        window.refreshPreview = function() { editor.safeRefresh(); };
        window.saveAndExit = function() { editor.saveAndExit(); };
    </script>
    <script src="enhanced-editor.js"></script>
                    <script src="enhanced-content-updater-fixed.js"></script>
    <script src="super-editor-fixed.js"></script>
<script src="fix-issues-applied.js"></script>
    <script src="fix-duplicate-editors.js"></script>
    <script src="cleanup-duplicates.js"></script>
    <script src="smart-image-editor.js"></script>
    <script src="cleanup-existing-data.js"></script>
        <script src="remove-contacts-editor.js"></script>
        <script src="clean-overflow-fix.js"></script>
</body>
</html>



=== FILE: ./admin.js ===
// Improved Admin JavaScript with better error handling and force refresh
console.log('üîÑ Admin JS loading...');

document.addEventListener('DOMContentLoaded', function() {
    console.log('‚úÖ Admin DOM loaded');
    initializeAdmin();
});

function initializeAdmin() {
    console.log('üöÄ Initializing admin...');
    
    // Wait for dataManager to be ready
    const initInterval = setInterval(() => {
        if (window.dataManager) {
            clearInterval(initInterval);
            loadAdminData();
            setupAdminEventListeners();
            loadCountrySelect();
            console.log('‚úÖ Admin initialized successfully');
        }
    }, 100);

    // Fallback timeout
    setTimeout(() => {
        clearInterval(initInterval);
        if (!window.dataManager) {
            console.error('‚ùå DataManager not available, using fallback');
            showAdminNotification('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö. –û–±–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É.', 'error');
        }
    }, 5000);
}

function setupAdminEventListeners() {
    console.log('üîß Setting up admin event listeners...');
    
    // Form handlers
    const addCountryForm = document.getElementById('add-country-form');
    const addTourForm = document.getElementById('add-tour-form');
    const contactForm = document.getElementById('contact-form');
    const settingsForm = document.getElementById('settings-form');
    
    if (addCountryForm) {
        addCountryForm.addEventListener('submit', handleAddCountry);
        console.log('‚úÖ Country form handler added');
    }
    
    if (addTourForm) {
        addTourForm.addEventListener('submit', handleAddTour);
        console.log('‚úÖ Tour form handler added');
    }
    
    if (contactForm) {
        contactForm.addEventListener('submit', handleUpdateContacts);
        console.log('‚úÖ Contact form handler added');
    }
    
    if (settingsForm) {
        settingsForm.addEventListener('submit', handleUpdateSettings);
        console.log('‚úÖ Settings form handler added');
    }
    
    // Tab handlers
    const tabButtons = document.querySelectorAll('.tab-button');
    tabButtons.forEach(button => {
        button.addEventListener('click', function() {
            const tabName = this.getAttribute('data-tab');
            console.log('üìë Switching to tab:', tabName);
            switch(tabName) {
                case 'countries':
                    loadCountriesTable();
                    break;
                case 'tours':
                    loadToursTable();
                    loadCountrySelect();
                    break;
                case 'contacts':
                    loadContactsForm();
                    break;
                case 'settings':
                    loadSettingsForm();
                    break;
            }
        });
    });

    // Force refresh button
    const refreshBtn = document.createElement('button');
    refreshBtn.className = 'btn-admin secondary';
    refreshBtn.innerHTML = '<i class="fas fa-sync-alt"></i> –û–±–Ω–æ–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ';
    refreshBtn.style.marginLeft = '10px';
    refreshBtn.onclick = forceRefreshData;
    
    const headerActions = document.querySelector('.editor-actions');
    if (headerActions) {
        headerActions.appendChild(refreshBtn);
    }
}

function forceRefreshData() {
    console.log('üîÑ Force refreshing data...');
    if (window.dataManager) {
        window.dataManager.forceRefresh();
        loadAdminData();
        showAdminNotification('–î–∞–Ω–Ω—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω—ã', 'success');
    } else {
        showAdminNotification('–û—à–∏–±–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö', 'error');
    }
}

function loadAdminData() {
    console.log('üì• Loading admin data...');
    
    if (!window.dataManager) {
        console.error('‚ùå DataManager not available');
        showAdminNotification('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö –º–µ–Ω–µ–¥–∂–µ—Ä–∞', 'error');
        return;
    }
    
    const data = window.dataManager.getData();
    console.log('üìä Admin loaded data:', {
        countries: data?.countries?.length || 0,
        tours: data ? window.dataManager.getAllTours().length : 0
    });
    
    if (data) {
        loadCountriesTable();
        loadToursTable();
        loadContactsForm();
        loadSettingsForm();
        showAdminNotification('–î–∞–Ω–Ω—ã–µ —É—Å–ø–µ—à–Ω–æ –∑–∞–≥—Ä—É–∂–µ–Ω—ã', 'success');
    } else {
        showAdminNotification('–î–∞–Ω–Ω—ã–µ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã, —Å–æ–∑–¥–∞–µ–º —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ', 'warning');
        window.dataManager.setDefaultData();
        setTimeout(loadAdminData, 500);
    }
}

function loadCountriesTable() {
    console.log('üåç Loading countries table...');
    
    if (!window.dataManager) return;
    
    const countries = window.dataManager.getCountries();
    const tbody = document.querySelector('#countries-table tbody');
    
    console.log('üìã Countries to display:', countries.length);
    
    if (tbody) {
        if (countries.length > 0) {
            tbody.innerHTML = countries.map(country => `
                <tr>
                    <td><strong>${country.name}</strong></td>
                    <td>${country.description || '–û–ø–∏—Å–∞–Ω–∏–µ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç'}</td>
                    <td><span class="tour-count-badge">${country.tours ? country.tours.length : 0}</span></td>
                    <td>
                        <div class="action-buttons">
                            <button class="btn-small" onclick="editCountry(${country.id})" title="–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å">
                                <i class="fas fa-edit"></i>
                            </button>
                            <button class="btn-small danger" onclick="deleteCountry(${country.id})" title="–£–¥–∞–ª–∏—Ç—å">
                                <i class="fas fa-trash"></i>
                            </button>
                        </div>
                    </td>
                </tr>
            `).join('');
            console.log('‚úÖ Countries table loaded');
        } else {
            tbody.innerHTML = '<tr><td colspan="4" style="text-align: center; color: #999; padding: 40px;">–°—Ç—Ä–∞–Ω—ã –Ω–µ –¥–æ–±–∞–≤–ª–µ–Ω—ã</td></tr>';
            console.log('üì≠ No countries to display');
        }
    } else {
        console.error('‚ùå Countries table body not found');
    }
}

function loadToursTable() {
    console.log('üó∫Ô∏è Loading tours table...');
    
    if (!window.dataManager) return;
    
    const allTours = window.dataManager.getAllTours();
    const tbody = document.querySelector('#tours-table tbody');
    
    console.log('üìã Tours to display:', allTours.length);
    
    if (tbody) {
        if (allTours.length > 0) {
            tbody.innerHTML = allTours.map(tour => `
                <tr>
                    <td>
                        <div class="tour-info">
                            <strong>${tour.name}</strong>
                            <small>ID: ${tour.id}</small>
                        </div>
                    </td>
                    <td>
                        <span class="country-badge">${tour.countryName}</span>
                    </td>
                    <td>
                        <span class="price-tag">${tour.price}</span>
                    </td>
                    <td>
                        <span class="duration-badge">${tour.duration}</span>
                    </td>
                    <td>
                        <div class="action-buttons">
                            <button class="btn-small warning" onclick="editTour(${tour.countryId}, ${tour.id})" title="–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å">
                                <i class="fas fa-edit"></i>
                            </button>
                            <button class="btn-small danger" onclick="deleteTour(${tour.countryId}, ${tour.id})" title="–£–¥–∞–ª–∏—Ç—å">
                                <i class="fas fa-trash"></i>
                            </button>
                        </div>
                    </td>
                </tr>
            `).join('');
            console.log('‚úÖ Tours table loaded');
        } else {
            tbody.innerHTML = `
                <tr>
                    <td colspan="5" style="text-align: center; color: #999; padding: 40px;">
                        <i class="fas fa-map-marked-alt" style="font-size: 3rem; margin-bottom: 15px; display: block; color: #ccc;"></i>
                        <p>–¢—É—Ä—ã –Ω–µ –Ω–∞–π–¥–µ–Ω—ã</p>
                        <small>–î–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–≤—ã–π —Ç—É—Ä –∏—Å–ø–æ–ª—å–∑—É—è —Ñ–æ—Ä–º—É –≤—ã—à–µ</small>
                    </td>
                </tr>
            `;
            console.log('üì≠ No tours to display');
        }
    } else {
        console.error('‚ùå Tours table body not found');
    }
}

function loadContactsForm() {
    console.log('üìû Loading contacts form...');
    
    if (!window.dataManager) return;
    
    const contacts = window.dataManager.getContacts();
    const form = document.getElementById('contact-form');
    
    console.log('üìã Contacts data:', contacts);
    
    if (form) {
        form.querySelector('#contact-phone').value = contacts.phone || '';
        form.querySelector('#contact-email').value = contacts.email || '';
        form.querySelector('#contact-address').value = contacts.address || '';
        form.querySelector('#contact-hours').value = contacts.hours || '';
        console.log('‚úÖ Contacts form loaded');
    }
}

function loadSettingsForm() {
    console.log('‚öôÔ∏è Loading settings form...');
    
    if (!window.dataManager) return;
    
    const settings = window.dataManager.getSettings();
    const form = document.getElementById('settings-form');
    
    console.log('üìã Settings data:', settings);
    
    if (form) {
        form.querySelector('#site-title').value = settings.siteTitle || '';
        form.querySelector('#company-name').value = settings.companyName || '';
        console.log('‚úÖ Settings form loaded');
    }
}

function loadCountrySelect() {
    console.log('üåç Loading country select...');
    
    if (!window.dataManager) return;
    
    const countries = window.dataManager.getCountries();
    const select = document.getElementById('tour-country');
    
    console.log('üìã Countries for select:', countries.length);
    
    if (select) {
        if (countries.length > 0) {
            select.innerHTML = '<option value="">-- –í—ã–±–µ—Ä–∏—Ç–µ —Å—Ç—Ä–∞–Ω—É --</option>' + 
                countries.map(country => 
                    `<option value="${country.id}">${country.name}</option>`
                ).join('');
            console.log('‚úÖ Country select loaded');
        } else {
            select.innerHTML = '<option value="">–°–Ω–∞—á–∞–ª–∞ –¥–æ–±–∞–≤—å—Ç–µ —Å—Ç—Ä–∞–Ω—ã</option>';
            console.log('üì≠ No countries for select');
        }
    }
}

// Form handlers with improved validation
function handleAddCountry(e) {
    e.preventDefault();
    console.log('‚ûï Adding new country...');
    
    const form = e.target;
    const formData = new FormData(form);
    
    const countryData = {
        name: formData.get('name').trim(),
        description: formData.get('description').trim()
    };
    
    if (!countryData.name) {
        showAdminNotification('–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ —Å—Ç—Ä–∞–Ω—ã', 'error');
        return;
    }
    
    if (!window.dataManager) {
        showAdminNotification('–û—à–∏–±–∫–∞: DataManager –Ω–µ –¥–æ—Å—Ç—É–ø–µ–Ω', 'error');
        return;
    }
    
    const result = window.dataManager.addCountry(countryData);
    if (result) {
        form.reset();
        loadCountriesTable();
        loadCountrySelect();
        showAdminNotification(`–°—Ç—Ä–∞–Ω–∞ "${countryData.name}" —É—Å–ø–µ—à–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω–∞!`, 'success');
        console.log('‚úÖ Country added:', countryData.name);
    } else {
        showAdminNotification('–û—à–∏–±–∫–∞ –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ —Å—Ç—Ä–∞–Ω—ã', 'error');
        console.error('‚ùå Failed to add country');
    }
}

function handleAddTour(e) {
    e.preventDefault();
    console.log('‚ûï Adding new tour...');
    
    const form = e.target;
    const formData = new FormData(form);
    
    const tourData = {
        name: formData.get('name').trim(),
        price: formData.get('price').trim(),
        duration: formData.get('duration').trim()
    };
    
    const countryId = parseInt(formData.get('country'));
    
    // Validation
    if (!tourData.name) {
        showAdminNotification('–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ —Ç—É—Ä–∞', 'error');
        return;
    }
    
    if (!tourData.price) {
        showAdminNotification('–í–≤–µ–¥–∏—Ç–µ —Ü–µ–Ω—É —Ç—É—Ä–∞', 'error');
        return;
    }
    
    if (!tourData.duration) {
        showAdminNotification('–í–≤–µ–¥–∏—Ç–µ –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Ç—É—Ä–∞', 'error');
        return;
    }
    
    if (!countryId) {
        showAdminNotification('–í—ã–±–µ—Ä–∏—Ç–µ —Å—Ç—Ä–∞–Ω—É', 'error');
        return;
    }
    
    if (!window.dataManager) {
        showAdminNotification('–û—à–∏–±–∫–∞: DataManager –Ω–µ –¥–æ—Å—Ç—É–ø–µ–Ω', 'error');
        return;
    }
    
    const result = window.dataManager.addTour(countryId, tourData);
    if (result) {
        form.reset();
        loadToursTable();
        showAdminNotification(`–¢—É—Ä "${tourData.name}" —É—Å–ø–µ—à–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω!`, 'success');
        console.log('‚úÖ Tour added:', tourData.name);
    } else {
        showAdminNotification('–û—à–∏–±–∫–∞ –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ —Ç—É—Ä–∞', 'error');
        console.error('‚ùå Failed to add tour');
    }
}

function handleUpdateContacts(e) {
    e.preventDefault();
    console.log('üìû Updating contacts...');
    
    const form = e.target;
    const formData = new FormData(form);
    
    const contactData = {
        phone: formData.get('phone').trim(),
        email: formData.get('email').trim(),
        address: formData.get('address').trim(),
        hours: formData.get('hours').trim()
    };
    
    if (!window.dataManager) {
        showAdminNotification('–û—à–∏–±–∫–∞: DataManager –Ω–µ –¥–æ—Å—Ç—É–ø–µ–Ω', 'error');
        return;
    }
    
    window.dataManager.updateContacts(contactData);
    showAdminNotification('–ö–æ–Ω—Ç–∞–∫—Ç–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∞!', 'success');
    console.log('‚úÖ Contacts updated');
}

function handleUpdateSettings(e) {
    e.preventDefault();
    console.log('‚öôÔ∏è Updating settings...');
    
    const form = e.target;
    const formData = new FormData(form);
    
    const settingsData = {
        siteTitle: formData.get('siteTitle').trim(),
        companyName: formData.get('companyName').trim()
    };
    
    if (!window.dataManager) {
        showAdminNotification('–û—à–∏–±–∫–∞: DataManager –Ω–µ –¥–æ—Å—Ç—É–ø–µ–Ω', 'error');
        return;
    }
    
    window.dataManager.updateSettings(settingsData);
    showAdminNotification('–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–∞–π—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω—ã!', 'success');
    console.log('‚úÖ Settings updated');
}

// Country management functions
function editCountry(countryId) {
    console.log('‚úèÔ∏è Editing country:', countryId);
    
    if (!window.dataManager) return;
    
    const countries = window.dataManager.getCountries();
    const country = countries.find(c => c.id === countryId);
    
    if (country) {
        const newName = prompt('–í–≤–µ–¥–∏—Ç–µ –Ω–æ–≤–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ —Å—Ç—Ä–∞–Ω—ã:', country.name);
        if (newName === null) return;
        
        const newDesc = prompt('–í–≤–µ–¥–∏—Ç–µ –Ω–æ–≤–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ:', country.description || '');
        if (newDesc === null) return;
        
        if (newName.trim()) {
            window.dataManager.updateCountry(countryId, {
                name: newName.trim(),
                description: newDesc.trim()
            });
            loadCountriesTable();
            loadCountrySelect();
            loadToursTable();
            showAdminNotification('–°—Ç—Ä–∞–Ω–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∞!', 'success');
            console.log('‚úÖ Country updated');
        } else {
            showAdminNotification('–ù–∞–∑–≤–∞–Ω–∏–µ —Å—Ç—Ä–∞–Ω—ã –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—É—Å—Ç—ã–º', 'error');
        }
    }
}

function deleteCountry(countryId) {
    console.log('üóëÔ∏è Deleting country:', countryId);
    
    if (!window.dataManager) return;
    
    const countries = window.dataManager.getCountries();
    const country = countries.find(c => c.id === countryId);
    
    if (!country) return;
    
    const tourCount = country.tours ? country.tours.length : 0;
    const message = tourCount > 0 
        ? `–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å —Å—Ç—Ä–∞–Ω—É "${country.name}"? –í—Å–µ ${tourCount} —Ç—É—Ä–æ–≤ –≤ —ç—Ç–æ–π —Å—Ç—Ä–∞–Ω–µ —Ç–∞–∫–∂–µ –±—É–¥—É—Ç —É–¥–∞–ª–µ–Ω—ã.`
        : `–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å —Å—Ç—Ä–∞–Ω—É "${country.name}"?`;
    
    if (confirm(message)) {
        if (window.dataManager.deleteCountry(countryId)) {
            loadCountriesTable();
            loadToursTable();
            loadCountrySelect();
            showAdminNotification('–°—Ç—Ä–∞–Ω–∞ —É–¥–∞–ª–µ–Ω–∞!', 'success');
            console.log('‚úÖ Country deleted');
        } else {
            showAdminNotification('–û—à–∏–±–∫–∞ –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ —Å—Ç—Ä–∞–Ω—ã', 'error');
        }
    }
}

// Tour management functions
function editTour(countryId, tourId) {
    console.log('‚úèÔ∏è Editing tour:', tourId, 'in country:', countryId);
    
    if (!window.dataManager) return;
    
    const allTours = window.dataManager.getAllTours();
    const tour = allTours.find(t => t.id === tourId && t.countryId === countryId);
    
    if (tour) {
        const newName = prompt('–í–≤–µ–¥–∏—Ç–µ –Ω–æ–≤–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ —Ç—É—Ä–∞:', tour.name);
        if (newName === null) return;
        
        const newPrice = prompt('–í–≤–µ–¥–∏—Ç–µ –Ω–æ–≤—É—é —Ü–µ–Ω—É:', tour.price);
        if (newPrice === null) return;
        
        const newDuration = prompt('–í–≤–µ–¥–∏—Ç–µ –Ω–æ–≤—É—é –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:', tour.duration);
        if (newDuration === null) return;
        
        if (newName.trim() && newPrice && newDuration.trim()) {
            // Delete old tour and create new one
            if (window.dataManager.deleteTour(countryId, tourId)) {
                window.dataManager.addTour(countryId, {
                    name: newName.trim(),
                    price: newPrice.trim(),
                    duration: newDuration.trim()
                });
                loadToursTable();
                showAdminNotification('–¢—É—Ä –æ–±–Ω–æ–≤–ª–µ–Ω!', 'success');
                console.log('‚úÖ Tour updated');
            }
        } else {
            showAdminNotification('–í—Å–µ –ø–æ–ª—è –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∑–∞–ø–æ–ª–Ω–µ–Ω—ã', 'error');
        }
    }
}

function deleteTour(countryId, tourId) {
    console.log('üóëÔ∏è Deleting tour:', tourId, 'from country:', countryId);
    
    if (!window.dataManager) return;
    
    const allTours = window.dataManager.getAllTours();
    const tour = allTours.find(t => t.id === tourId && t.countryId === countryId);
    
    if (tour && confirm(`–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å —Ç—É—Ä "${tour.name}"?`)) {
        if (window.dataManager.deleteTour(countryId, tourId)) {
            loadToursTable();
            showAdminNotification('–¢—É—Ä —É–¥–∞–ª–µ–Ω!', 'success');
            console.log('‚úÖ Tour deleted');
        } else {
            showAdminNotification('–û—à–∏–±–∫–∞ –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ —Ç—É—Ä–∞', 'error');
        }
    }
}

// Notification system
function showAdminNotification(message, type = 'info') {
    console.log(`üì¢ ${type.toUpperCase()}: ${message}`);
    
    // Remove existing notifications
    document.querySelectorAll('.admin-notification').forEach(n => n.remove());
    
    const notification = document.createElement('div');
    const bgColor = type === 'error' ? '#dc3545' : type === 'warning' ? '#ffc107' : type === 'success' ? '#28a745' : '#007bff';
    const textColor = type === 'warning' ? '#000' : '#fff';
    
    notification.className = 'admin-notification';
    notification.innerHTML = `
        <div style="
            position: fixed;
            top: 20px;
            right: 20px;
            background: ${bgColor};
            color: ${textColor};
            padding: 15px 20px;
            border-radius: 10px;
            z-index: 10000;
            animation: slideInRight 0.3s ease;
            max-width: 400px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            display: flex;
            align-items: center;
            gap: 10px;
            font-weight: 500;
        ">
            <i class="fas fa-${type === 'error' ? 'exclamation-triangle' : type === 'warning' ? 'exclamation-circle' : type === 'success' ? 'check-circle' : 'info-circle'}"></i>
            ${message}
            <button onclick="this.parentElement.parentElement.remove()" style="background: none; border: none; color: inherit; cursor: pointer; margin-left: 10px;">
                <i class="fas fa-times"></i>
            </button>
        </div>
    `;
    
    document.body.appendChild(notification);
    
    // Auto-remove after 5 seconds
    setTimeout(() => {
        if (notification.parentElement) {
            notification.remove();
        }
    }, 5000);
}

// Add CSS for notifications if not exists
if (!document.querySelector('#admin-notification-styles')) {
    const style = document.createElement('style');
    style.id = 'admin-notification-styles';
    style.textContent = `
        @keyframes slideInRight {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }
    `;
    document.head.appendChild(style);
}

// Debug function
window.debugAdmin = function() {
    console.log('üîç Admin Debug Info:');
    console.log('- DataManager available:', !!window.dataManager);
    if (window.dataManager) {
        window.dataManager.debugData();
    }
    console.log('- Countries table:', document.querySelector('#countries-table tbody')?.children.length || 0, 'rows');
    console.log('- Tours table:', document.querySelector('#tours-table tbody')?.children.length || 0, 'rows');
};

console.log('‚úÖ Admin JS loaded successfully');



=== FILE: ./enhanced-image-editor-fixed.js ===
// Fixed Image Editor without duplication
class FixedImageEditor {
    constructor() {
        this.init();
    }

    init() {
        if (window.editor) {
            this.patchEditor();
        } else {
            setTimeout(() => this.init(), 100);
        }
    }

    patchEditor() {
        console.log('üîß Patching editor without duplication...');

        // Store original method
        const originalShow = window.editor.showContentEditor;
        
        window.editor.showContentEditor = function() {
            originalShow.call(this);
            setTimeout(() => {
                // Remove ALL existing image editors first
                this.removeExistingImageEditors();
                // Then add only one
                this.addSingleImageManager();
            }, 100);
        };

        // Method to remove all existing image editors
        window.editor.removeExistingImageEditors = function() {
            const contentEditor = document.getElementById('content-editor');
            if (!contentEditor) return;
            
            // Remove all image manager elements
            const existingEditors = contentEditor.querySelectorAll('[data-image-field]');
            existingEditors.forEach(editor => editor.remove());
            
            // Also remove any form-group containing image fields
            const formGroups = contentEditor.querySelectorAll('.form-group');
            formGroups.forEach(group => {
                if (group.querySelector('input[data-field="image"]')) {
                    group.remove();
                }
            });
            
            console.log('üßπ Removed existing image editors');
        };

        // Add only ONE image manager
        window.editor.addSingleImageManager = function() {
            const sections = {
                'hero': '–ì–ª–∞–≤–Ω—ã–π –±–∞–Ω–Ω–µ—Ä',
                'about': '–û –∫–æ–º–ø–∞–Ω–∏–∏', 
                'services': '–£—Å–ª—É–≥–∏',
                'destinations': '–ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è',
                'contact': '–ö–æ–Ω—Ç–∞–∫—Ç—ã'
            };

            const sectionName = sections[this.currentSection?.id];
            if (!sectionName) return;

            this.createSingleImageField(sectionName);
        };

        // Create only ONE image field
        window.editor.createSingleImageField = function(sectionName) {
            const contentEditor = document.getElementById('content-editor');
            if (!contentEditor) return;

            const currentValue = this.getCurrentValue('image') || '';
            
            // Check if already exists
            if (contentEditor.querySelector('[data-image-field="single"]')) {
                console.log('‚úÖ Image editor already exists, skipping');
                return;
            }

            const html = '<div class="form-group" data-image-field="single">' +
                '<label>üñºÔ∏è –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥–ª—è ' + sectionName + ':</label>' +
                '<div style="display: flex; gap: 10px; align-items: center; margin-top: 10px;">' +
                '<input type="text" data-field="image" class="form-control" placeholder="URL –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è..." ' +
                'value="' + currentValue + '">' +
                '<button type="button" class="btn-admin" onclick="editor.uploadImage(\'image\')">' +
                '<i class="fas fa-upload"></i> –ó–∞–≥—Ä—É–∑–∏—Ç—å' +
                '</button>' +
                '<button type="button" class="btn-admin secondary" onclick="editor.setImageUrl(\'image\')">' +
                '<i class="fas fa-link"></i> URL' +
                '</button>' +
                '</div>' +
                '<div style="font-size: 12px; color: #666; margin-top: 5px;">' +
                '–ú–æ–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å URL –∏–ª–∏ –∑–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–∞–π–ª' +
                '</div>' +
                '</div>';

            // Insert after title field
            const titleField = contentEditor.querySelector('[data-field="title"]');
            if (titleField) {
                titleField.closest('.form-group').insertAdjacentHTML('afterend', html);
                console.log('‚úÖ Added single image editor for: ' + sectionName);
            }
        };

        // Image methods (unchanged)
        window.editor.uploadImage = function(fieldId) {
            const input = document.createElement('input');
            input.type = 'file';
            input.accept = 'image/*';
            input.onchange = function(e) {
                const file = e.target.files[0];
                if (file) {
                    const reader = new FileReader();
                    reader.onload = function(e) {
                        document.querySelector('[data-field="' + fieldId + '"]').value = e.target.result;
                        window.editor.hasUnsavedChanges = true;
                        if (window.editor.showNotification) {
                            window.editor.showNotification('–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∑–∞–≥—Ä—É–∂–µ–Ω–æ', 'success');
                        }
                    };
                    reader.readAsDataURL(file);
                }
            };
            input.click();
        };

        window.editor.setImageUrl = function(fieldId) {
            const current = document.querySelector('[data-field="' + fieldId + '"]').value;
            const url = prompt('URL –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è:', current || '');
            if (url !== null) {
                document.querySelector('[data-field="' + fieldId + '"]').value = url;
                this.hasUnsavedChanges = true;
                if (this.showNotification) {
                    this.showNotification('URL —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω', 'success');
                }
            }
        };
    }
}

new FixedImageEditor();



=== FILE: ./test-sync.html ===
<!DOCTYPE html>
<html>
<head>
    <title>Sync Test</title>
</head>
<body>
    <h1>Sync Test Page</h1>
    <button onclick="testSave()">Test Save Data</button>
    <button onclick="testLoad()">Test Load Data</button>
    
    <script>
        function testSave() {
            const testData = {
                contacts: {
                    phone: '+7 (999) 999-99-99',
                    email: 'test@test.com',
                    address: 'Test Address',
                    hours: 'Test Hours'
                },
                footer: {
                    description: 'Test Footer Description',
                    copyright: '&copy; 2024 Test Company'
                },
                content: {
                    about: { title: 'Test About Title' },
                    services: { title: 'Test Services Title' },
                    destinations: { title: 'Test Destinations Title' },
                    contact: { title: 'Test Contact Title' }
                },
                lastUpdate: new Date().toISOString()
            };
            
            localStorage.setItem('worldtravel_data', JSON.stringify(testData));
            console.log('‚úÖ Test data saved');
            alert('Test data saved! Check main page.');
        }
        
        function testLoad() {
            const data = localStorage.getItem('worldtravel_data');
            console.log('Loaded data:', data);
            alert('Data: ' + (data ? 'EXISTS' : 'MISSING'));
        }
    </script>
</body>
</html>



=== FILE: ./enhanced-editor.js ===
// –£–ª—É—á—à–µ–Ω–Ω—ã–π —Ä–µ–¥–∞–∫—Ç–æ—Ä —Å —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –∏ —É—Å–ª—É–≥
class EnhancedEditor {
    constructor() {
        this.init();
    }

    init() {
        console.log('üöÄ –£–ª—É—á—à–µ–Ω–Ω—ã–π —Ä–µ–¥–∞–∫—Ç–æ—Ä –∑–∞–≥—Ä—É–∂–µ–Ω');
        this.injectStatsEditor();
        this.injectServicesEditor();
    }

    injectStatsEditor() {
        // –î–æ–±–∞–≤–ª—è–µ–º —Ä–µ–¥–∞–∫—Ç–æ—Ä —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –≤ —Ä–µ–¥–∞–∫—Ç–æ—Ä —Å—Ç—Ä–∞–Ω–∏—Ü
        const originalShowContentEditor = window.editor?.showContentEditor;
        if (window.editor && originalShowContentEditor) {
            window.editor.showContentEditor = function() {
                originalShowContentEditor.call(this);
                this.enhanceStatsEditing();
            }.bind(window.editor);
        }
    }

    injectServicesEditor() {
        // –î–æ–±–∞–≤–ª—è–µ–º —Ä–µ–¥–∞–∫—Ç–æ—Ä —É—Å–ª—É–≥ –≤ —Ä–µ–¥–∞–∫—Ç–æ—Ä —Å—Ç—Ä–∞–Ω–∏—Ü
        const originalShowContentEditor = window.editor?.showContentEditor;
        if (window.editor && originalShowContentEditor) {
            window.editor.showContentEditor = function() {
                originalShowContentEditor.call(this);
                this.enhanceServicesEditing();
            }.bind(window.editor);
        }
    }
}

// –†–∞—Å—à–∏—Ä—è–µ–º —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞
if (window.editor) {
    // –ú–µ—Ç–æ–¥ –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
    window.editor.enhanceStatsEditing = function() {
        if (this.currentSection?.id === 'about') {
            const contentEditor = document.getElementById('content-editor');
            const statsSection = contentEditor.querySelector('.stats-editor');
            
            if (!statsSection) {
                this.injectStatsEditorUI(contentEditor);
            }
        }
    };

    // –ú–µ—Ç–æ–¥ –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —É—Å–ª—É–≥
    window.editor.enhanceServicesEditing = function() {
        if (this.currentSection?.id === 'services') {
            const contentEditor = document.getElementById('content-editor');
            const servicesSection = contentEditor.querySelector('.services-editor');
            
            if (!servicesSection) {
                this.injectServicesEditorUI(contentEditor);
            }
        }
    };

    // –í–Ω–µ–¥—Ä—è–µ–º UI —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
    window.editor.injectStatsEditorUI = function(container) {
        const stats = this.currentData.content?.about?.stats || [];
        
        const statsHTML = `
            <div class="stats-editor">
                <h4>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–æ–π</h4>
                <div class="admin-hint">–î–æ–±–∞–≤–ª—è–π—Ç–µ, —Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ –∏–ª–∏ —É–¥–∞–ª—è–π—Ç–µ –±–ª–æ–∫–∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏</div>
                <div id="stats-list">
                    ${stats.map((stat, index) => `
                        <div class="stat-row" data-index="${index}">
                            <input type="text" class="form-control" value="${stat.value}" placeholder="–ó–Ω–∞—á–µ–Ω–∏–µ" onchange="editor.updateStat(${index}, 'value', this.value)">
                            <input type="text" class="form-control" value="${stat.label}" placeholder="–ü–æ–¥–ø–∏—Å—å" onchange="editor.updateStat(${index}, 'label', this.value)">
                            <button class="btn-small danger" onclick="editor.removeStat(${index})">
                                <i class="fas fa-trash"></i>
                            </button>
                        </div>
                    `).join('')}
                </div>
                <div class="dynamic-items-controls">
                    <button class="btn-admin" onclick="editor.addStat()">
                        <i class="fas fa-plus"></i> –î–æ–±–∞–≤–∏—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
                    </button>
                </div>
            </div>
        `;

        // –ù–∞—Ö–æ–¥–∏–º –º–µ—Å—Ç–æ –¥–ª—è –≤—Å—Ç–∞–≤–∫–∏ –ø–æ—Å–ª–µ –æ–ø–∏—Å–∞–Ω–∏—è
        const descriptionField = container.querySelector('[data-field="description"]');
        if (descriptionField) {
            descriptionField.closest('.form-group').insertAdjacentHTML('afterend', statsHTML);
        }
    };

    // –í–Ω–µ–¥—Ä—è–µ–º UI —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞ —É—Å–ª—É–≥
    window.editor.injectServicesEditorUI = function(container) {
        const services = this.currentData.content?.services?.services || [];
        
        const servicesHTML = `
            <div class="services-editor">
                <h4>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —É—Å–ª—É–≥–∞–º–∏</h4>
                <div class="admin-hint">–î–æ–±–∞–≤–ª—è–π—Ç–µ, —Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ –∏–ª–∏ —É–¥–∞–ª—è–π—Ç–µ —É—Å–ª—É–≥–∏</div>
                <div id="services-list">
                    ${services.map((service, index) => `
                        <div class="service-row" data-index="${index}">
                            <input type="text" class="form-control" value="${service.title}" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ —É—Å–ª—É–≥–∏" onchange="editor.updateService(${index}, 'title', this.value)">
                            <textarea class="form-control" placeholder="–û–ø–∏—Å–∞–Ω–∏–µ —É—Å–ª—É–≥–∏" onchange="editor.updateService(${index}, 'description', this.value)">${service.description}</textarea>
                            <input type="text" class="form-control" value="${service.icon}" placeholder="–ò–∫–æ–Ω–∫–∞ (fas fa-...)" onchange="editor.updateService(${index}, 'icon', this.value)">
                            <button class="btn-small danger" onclick="editor.removeService(${index})">
                                <i class="fas fa-trash"></i>
                            </button>
                        </div>
                    `).join('')}
                </div>
                <div class="dynamic-items-controls">
                    <button class="btn-admin" onclick="editor.addService()">
                        <i class="fas fa-plus"></i> –î–æ–±–∞–≤–∏—Ç—å —É—Å–ª—É–≥—É
                    </button>
                </div>
            </div>
        `;

        // –ù–∞—Ö–æ–¥–∏–º –º–µ—Å—Ç–æ –¥–ª—è –≤—Å—Ç–∞–≤–∫–∏ –ø–æ—Å–ª–µ –∑–∞–≥–æ–ª–æ–≤–∫–∞
        const titleField = container.querySelector('[data-field="title"]');
        if (titleField) {
            titleField.closest('.form-group').insertAdjacentHTML('afterend', servicesHTML);
        }
    };

    // –ú–µ—Ç–æ–¥—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å–æ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–æ–π
    window.editor.addStat = function() {
        if (!this.currentData.content.about) this.currentData.content.about = {};
        if (!this.currentData.content.about.stats) this.currentData.content.about.stats = [];
        
        this.currentData.content.about.stats.push({ 
            value: '–ù–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ', 
            label: '–ù–æ–≤–∞—è –ø–æ–¥–ø–∏—Å—å' 
        });
        
        this.saveData();
        this.showContentEditor();
        this.showNotification('–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∞', 'success');
    };

    window.editor.updateStat = function(index, field, value) {
        if (this.currentData.content?.about?.stats?.[index]) {
            this.currentData.content.about.stats[index][field] = value;
            this.saveData();
            this.hasUnsavedChanges = true;
        }
    };

    window.editor.removeStat = function(index) {
        if (this.currentData.content?.about?.stats?.[index]) {
            this.currentData.content.about.stats.splice(index, 1);
            this.saveData();
            this.showContentEditor();
            this.showNotification('–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —É–¥–∞–ª–µ–Ω–∞', 'success');
        }
    };

    // –ú–µ—Ç–æ–¥—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —É—Å–ª—É–≥–∞–º–∏
    window.editor.addService = function() {
        if (!this.currentData.content.services) this.currentData.content.services = {};
        if (!this.currentData.content.services.services) this.currentData.content.services.services = [];
        
        this.currentData.content.services.services.push({ 
            title: '–ù–æ–≤–∞—è —É—Å–ª—É–≥–∞', 
            description: '–û–ø–∏—Å–∞–Ω–∏–µ –Ω–æ–≤–æ–π —É—Å–ª—É–≥–∏',
            icon: 'fas fa-star'
        });
        
        this.saveData();
        this.showContentEditor();
        this.showNotification('–£—Å–ª—É–≥–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∞', 'success');
    };

    window.editor.updateService = function(index, field, value) {
        if (this.currentData.content?.services?.services?.[index]) {
            this.currentData.content.services.services[index][field] = value;
            this.saveData();
            this.hasUnsavedChanges = true;
        }
    };

    window.editor.removeService = function(index) {
        if (this.currentData.content?.services?.services?.[index]) {
            this.currentData.content.services.services.splice(index, 1);
            this.saveData();
            this.showContentEditor();
            this.showNotification('–£—Å–ª—É–≥–∞ —É–¥–∞–ª–µ–Ω–∞', 'success');
        }
    };
}

// –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —É–ª—É—á—à–µ–Ω–Ω–æ–≥–æ —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞
new EnhancedEditor();



=== FILE: ./admin-login.html ===
<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Login - WorldTravel</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Arial', sans-serif;
        }

        body {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .login-container {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            padding: 40px;
            border-radius: 15px;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.2);
            width: 100%;
            max-width: 400px;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .login-box h2 {
            color: white;
            text-align: center;
            margin-bottom: 30px;
            font-size: 28px;
        }

        .user-box {
            position: relative;
            margin-bottom: 30px;
        }

        .user-box input {
            width: 100%;
            padding: 10px 0;
            font-size: 16px;
            color: white;
            margin-bottom: 30px;
            border: none;
            border-bottom: 1px solid white;
            outline: none;
            background: transparent;
        }

        .user-box label {
            position: absolute;
            top: 0;
            left: 0;
            padding: 10px 0;
            font-size: 16px;
            color: white;
            pointer-events: none;
            transition: 0.5s;
        }

        .user-box input:focus ~ label,
        .user-box input:valid ~ label {
            top: -20px;
            left: 0;
            color: #03e9f4;
            font-size: 12px;
        }

        button {
            background: transparent;
            border: 1px solid white;
            color: white;
            padding: 12px 30px;
            text-transform: uppercase;
            letter-spacing: 2px;
            border-radius: 25px;
            cursor: pointer;
            transition: 0.5s;
            width: 100%;
            font-size: 16px;
            margin-top: 20px;
        }

        button:hover {
            background: white;
            color: #667eea;
        }

        .message {
            padding: 15px;
            margin: 20px 0;
            border-radius: 8px;
            text-align: center;
            font-weight: bold;
        }

        .message.success {
            background: rgba(46, 204, 113, 0.2);
            color: #2ecc71;
            border: 1px solid #2ecc71;
        }

        .message.error {
            background: rgba(231, 76, 60, 0.2);
            color: #e74c3c;
            border: 1px solid #e74c3c;
        }

        .code-inputs {
            display: flex;
            justify-content: space-between;
            margin: 20px 0;
        }

        .code-inputs input {
            width: 45px;
            height: 45px;
            text-align: center;
            font-size: 20px;
            border: 2px solid white;
            background: transparent;
            color: white;
            border-radius: 8px;
        }

        .hidden {
            display: none;
        }

        .loading {
            opacity: 0.7;
            pointer-events: none;
        }
    </style>
</head>
<body>
    <div class="login-container">
        <div class="login-box">
            <h2>Admin Login</h2>
            
            <div id="loginSection">
                <div class="user-box">
                    <input type="text" id="username" required>
                    <label>–õ–æ–≥–∏–Ω</label>
                </div>
                <div class="user-box">
                    <input type="password" id="password" required>
                    <label>–ü–∞—Ä–æ–ª—å</label>
                </div>
                <button type="button" onclick="handleLogin()">–í–æ–π—Ç–∏</button>
            </div>

            <div id="codeSection" class="hidden">
                <div class="message info">
                    –ö–æ–¥ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω –Ω–∞ –≤–∞—à—É –ø–æ—á—Ç—É narekgrigoryan424@gmail.com
                </div>
                <div class="code-inputs">
                    <input type="text" maxlength="1" oninput="moveToNext(this, 1)">
                    <input type="text" maxlength="1" oninput="moveToNext(this, 2)">
                    <input type="text" maxlength="1" oninput="moveToNext(this, 3)">
                    <input type="text" maxlength="1" oninput="moveToNext(this, 4)">
                    <input type="text" maxlength="1" oninput="moveToNext(this, 5)">
                    <input type="text" maxlength="1" oninput="moveToNext(this, 6)">
                </div>
                <button type="button" onclick="verifyCode()">–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –∫–æ–¥</button>
                <button type="button" onclick="goBackToLogin()" style="background: transparent; margin-top: 10px;">–ù–∞–∑–∞–¥</button>
            </div>

            <div id="message" class="message"></div>
        </div>
    </div>

    <script>
   let currentAuthCode = '';
let currentUsername = '';

async function handleLogin() {
    const username = document.getElementById('username').value;
    const password = document.getElementById('password').value;

    if (username !== 'admin' || password !== 'admin') {
        showMessage('–ù–µ–≤–µ—Ä–Ω—ã–π –ª–æ–≥–∏–Ω –∏–ª–∏ –ø–∞—Ä–æ–ª—å', 'error');
        return;
    }

    showMessage('–û—Ç–ø—Ä–∞–≤–∫–∞ –∫–æ–¥–∞ –Ω–∞ –≤–∞—à—É –ø–æ—á—Ç—É...', 'success');
    setLoadingState(true);

    try {
        currentAuthCode = Math.floor(100000 + Math.random() * 900000).toString();
        currentUsername = username;
        
        console.log('üîê GENERATED CODE:', currentAuthCode);

        // –í–†–ï–ú–ï–ù–ù–û –ü–†–û–ü–£–°–ö–ê–ï–ú –û–¢–ü–†–ê–í–ö–£ EMAIL - –∏—Å–ø–æ–ª—å–∑—É–µ–º —Ç–µ—Å—Ç–æ–≤—ã–π –∫–æ–¥
        console.log('üìß Email sending skipped for testing');
        
        showMessage('‚úÖ –ö–æ–¥ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω! –¢–µ—Å—Ç–æ–≤—ã–π –∫–æ–¥: ' + currentAuthCode, 'success');
        document.getElementById('loginSection').classList.add('hidden');
        document.getElementById('codeSection').classList.remove('hidden');
        clearCodeInputs();
        document.querySelector('.code-inputs input').focus();
        
    } catch (error) {
        console.error('Error:', error);
        showMessage('‚ùå –û—à–∏–±–∫–∞', 'error');
    } finally {
        setLoadingState(false);
    }
}

function moveToNext(input, nextIndex) {
    const inputs = document.querySelectorAll('.code-inputs input');
    
    if (input.value.length === 1 && nextIndex < inputs.length) {
        inputs[nextIndex].focus();
    }
    
    const allFilled = Array.from(inputs).every(input => input.value.length === 1);
    if (allFilled) {
        verifyCode();
    }
}

function verifyCode() {
    const inputs = document.querySelectorAll('.code-inputs input');
    const enteredCode = Array.from(inputs).map(input => input.value).join('');
    
    if (enteredCode.length !== 6) {
        showMessage('–í–≤–µ–¥–∏—Ç–µ –≤—Å–µ 6 —Ü–∏—Ñ—Ä –∫–æ–¥–∞', 'error');
        return;
    }

    setLoadingState(true);

    setTimeout(() => {
        if (enteredCode === currentAuthCode) {
            showMessage('‚úÖ –£—Å–ø–µ—à–Ω—ã–π –≤—Ö–æ–¥! –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ...', 'success');
            
            // –°–û–•–†–ê–ù–Ø–ï–ú –í SessionStorage (—Ä–∞–±–æ—Ç–∞–µ—Ç –ª—É—á—à–µ)
            sessionStorage.setItem('adminAuthenticated', 'true');
            sessionStorage.setItem('adminUsername', currentUsername);
            sessionStorage.setItem('authTime', Date.now().toString());
            
            // –î–£–ë–õ–ò–†–£–ï–ú –í LocalStorage
            localStorage.setItem('adminAuthenticated', 'true');
            localStorage.setItem('adminUsername', currentUsername);
            localStorage.setItem('authTime', Date.now().toString());
            
            console.log('üíæ SAVED TO STORAGE:');
            console.log('SessionStorage:', {
                auth: sessionStorage.getItem('adminAuthenticated'),
                user: sessionStorage.getItem('adminUsername')
            });
            console.log('LocalStorage:', {
                auth: localStorage.getItem('adminAuthenticated'),
                user: localStorage.getItem('adminUsername')
            });
            
            // –ü–ï–†–ï–ù–ê–ü–†–ê–í–õ–Ø–ï–ú –°–†–ê–ó–£
            console.log('üîÑ REDIRECTING TO ADMIN.HTML');
            window.location.href = 'admin.html';
            
        } else {
            showMessage('‚ùå –ù–µ–≤–µ—Ä–Ω—ã–π –∫–æ–¥. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑.', 'error');
            shakeCodeInputs();
        }
        setLoadingState(false);
    }, 500);
}

function goBackToLogin() {
    document.getElementById('codeSection').classList.add('hidden');
    document.getElementById('loginSection').classList.remove('hidden');
    showMessage('', '');
    currentAuthCode = '';
}

function clearCodeInputs() {
    const inputs = document.querySelectorAll('.code-inputs input');
    inputs.forEach(input => input.value = '');
}

function shakeCodeInputs() {
    const container = document.querySelector('.code-inputs');
    container.style.animation = 'shake 0.5s';
    setTimeout(() => {
        container.style.animation = '';
        clearCodeInputs();
        document.querySelector('.code-inputs input').focus();
    }, 500);
}

function setLoadingState(loading) {
    const buttons = document.querySelectorAll('button');
    buttons.forEach(button => {
        button.disabled = loading;
        button.classList.toggle('loading', loading);
    });
}

function showMessage(text, type) {
    const messageEl = document.getElementById('message');
    messageEl.textContent = text;
    messageEl.className = 'message';
    if (type) {
        messageEl.classList.add(type);
    }
}

// –ê–Ω–∏–º–∞—Ü–∏—è —Ç—Ä—è—Å–∫–∏
const style = document.createElement('style');
style.textContent = `
    @keyframes shake {
        0%, 100% { transform: translateX(0); }
        25% { transform: translateX(-5px); }
        75% { transform: translateX(5px); }
    }
`;
document.head.appendChild(style);

// –ê–≤—Ç–æ—Ñ–æ–∫—É—Å
document.addEventListener('DOMContentLoaded', function() {
    document.getElementById('username').focus();
});

// –û–±—Ä–∞–±–æ—Ç–∫–∞ Enter
document.addEventListener('keypress', function(e) {
    if (e.key === 'Enter') {
        if (!document.getElementById('codeSection').classList.contains('hidden')) {
            verifyCode();
        } else {
            handleLogin();
        }
    }
});
    </script>
</body>
</html>



=== FILE: ./index.html ===
<!DOCTYPE html>
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
<html lang="ru">
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
<head>
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
    <meta charset="UTF-8">
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
    <title>WorldTravel - –¢—É—Ä–∏—Å—Ç–∏—á–µ—Å–∫–∞—è –∫–æ–º–ø–∞–Ω–∏—è</title>
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
    <link rel="stylesheet" href="layout-fixes.css">
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
    <link rel="stylesheet" href="input-fixes.css">
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
    <link rel="stylesheet" href="style.css?v=4">
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
    <link rel="stylesheet" href="force-display.css">
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
    <link rel="stylesheet" href="clean-overflow-fix.css">
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
</head>
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
<body>
<script>
console.log('üîç DEBUG: Starting script diagnostics...');

// Check if scripts are loading
console.log('‚úÖ Inline script working');

    .then(response => {
        if (response.ok) {
        } else {
        }
    })
    .catch(error => {
    });

// List all loaded scripts
setTimeout(() => {
    const scripts = document.querySelectorAll('script[src]');
    console.log('üìú Loaded scripts (' + scripts.length + '):');
    scripts.forEach((script, i) => {
        console.log('  ' + (i+1) + '. ' + script.src);
        // Check if each script loaded successfully
        script.onerror = function() {
            console.log('‚ùå Script failed to load: ' + this.src);
        };
    });
}, 1000);
</script>
    <script>console.log("‚úÖ INLINE SCRIPT WORKING"); alert("Page loaded");</script>
<script src="smart-suppressor.js"></script>
    <script src="exact-content-updater.js"></script>
    <script src="data-sync-fix-enhanced.js"></script>
    <script src="complete-content-updater.js"></script>
    <script src="hotfix-all-errors.js"></script>
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
    <!-- Header -->
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
    <header class="header">
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
        <nav class="nav">
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
            <div class="logo">
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
                <h2><i class="fas fa-globe-americas"></i> WorldTravel</h2>
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
            </div>
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
            <ul class="nav-links">
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
                <li><a href="#home">–ì–ª–∞–≤–Ω–∞—è</a></li>
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
                <li><a href="#about">–û –Ω–∞—Å</a></li>
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
                <li><a href="#services">–£—Å–ª—É–≥–∏</a></li>
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
                <li><a href="#destinations">–ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è</a></li>
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
                <li><a href="#contact">–ö–æ–Ω—Ç–∞–∫—Ç—ã</a></li>
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
                <li>
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
                    <a href="admin-login.html" class="admin-link"><i class="fas fa-cog"></i> –ê–¥–º–∏–Ω–∫–∞</a>
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
                </li>
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
            </ul>
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
            <div class="hamburger">
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
                <span></span>
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
                <span></span>
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
                <span></span>
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
            </div>
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
        </nav>
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
    </header>
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>

    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
    <!-- Hero Section -->
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
    <section id="home" class="hero">
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
        <div class="hero-content">
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
            <h1 class="animate-fade-in">–û—Ç–∫—Ä–æ–π—Ç–µ –º–∏—Ä —Å WorldTravel</h1>
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
            <p class="animate-fade-in-delay">–ú—ã —Å–æ–∑–¥–∞–µ–º –Ω–µ–∑–∞–±—ã–≤–∞–µ–º—ã–µ –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏—è –ø–æ –≤—Å–µ–º—É –º–∏—Ä—É. –û—Ç —ç–∫–∑–æ—Ç–∏—á–µ—Å–∫–∏—Ö –ø–ª—è–∂–µ–π –¥–æ –≥–æ—Ä–Ω—ã—Ö –≤–µ—Ä—à–∏–Ω - –≤–∞—à–µ –ø—Ä–∏–∫–ª—é—á–µ–Ω–∏–µ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è –∑–¥–µ—Å—å.</p>
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
            <button class="cta-button animate-bounce" onclick="scrollToDestinations()">–ù–∞—á–∞—Ç—å –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏–µ</button>
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
        </div>
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
        <div class="hero-image" style="margin-left: 100px;">
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
            <div class="floating-element element-1"><i class="fas fa-plane"></i></div>
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
            <div class="floating-element element-2"><i class="fas fa-map-marked-alt"></i></div>
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
            <div class="floating-element element-3"><i class="fas fa-passport"></i></div>
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
            <div class="image-placeholder pulse-animation">
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
                <img src="images/travel-placeholder.svg" alt="–ü—É—Ç–µ—à–µ—Å—Ç–≤–∏—è" style="width: 100%; height: 100%; object-fit: cover; border-radius: 20px;">
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
            </div>
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
        </div>
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
    </section>
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>

    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
    <!-- About Section -->
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
    <section id="about" class="about">
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
        <div class="container">
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
            <h2 class="section-title">–û –Ω–∞—Å</h2>
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
            <div class="about-content">
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
                <div class="about-text">
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
                    <p>WorldTravel - —ç—Ç–æ –∫–æ–º–∞–Ω–¥–∞ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã—Ö –ø—É—Ç–µ—à–µ—Å—Ç–≤–µ–Ω–Ω–∏–∫–æ–≤ –∏ —ç–∫—Å–ø–µ—Ä—Ç–æ–≤ –ø–æ —Ç—É—Ä–∏–∑–º—É —Å –±–æ–ª–µ–µ —á–µ–º 10-–ª–µ—Ç–Ω–∏–º –æ–ø—ã—Ç–æ–º —Ä–∞–±–æ—Ç—ã. –ú—ã —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º—Å—è –Ω–∞ —Å–æ–∑–¥–∞–Ω–∏–∏ –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã—Ö –º–∞—Ä—à—Ä—É—Ç–æ–≤ –∏ —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö travel-—Ä–µ—à–µ–Ω–∏–π.</p>
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
                    <div class="stats">
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
                        <div class="stat animate-counter" data-target="5000">
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
                            <h3>5000</h3>
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
                            <p>–î–æ–≤–æ–ª—å–Ω—ã—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤</p>
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
                        </div>
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
                        <div class="stat animate-counter" data-target="50">
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
                            <h3>50</h3>
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
                            <p>–°—Ç—Ä–∞–Ω –º–∏—Ä–∞</p>
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
                        </div>
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
                        <div class="stat">
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
                            <h3>10 –ª–µ—Ç</h3>
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
                            <p>–û–ø—ã—Ç–∞ —Ä–∞–±–æ—Ç—ã</p>
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
                        </div>
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
                    </div>
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
                </div>
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
                <div class="about-image">
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
                    <div class="image-placeholder rotate-animation">
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
                        <img src="images/travel-placeholder.svg" alt="–ö–æ–º–∞–Ω–¥–∞ WorldTravel" style="width: 100%; height: 100%; object-fit: cover; border-radius: 20px;">
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
                    </div>
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
                </div>
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
            </div>
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
        </div>
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
    </section>
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>

    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
    <!-- Services Section -->
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
    <section id="services" class="services">
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
        <div class="container">
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
            <h2 class="section-title">–£—Å–ª—É–≥–∏</h2>
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
            <div class="services-grid">
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
                <div class="service-card slide-in-left">
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
                    <div class="service-icon"><i class="fas fa-plane"></i></div>
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
                    <h3>–ê–≤–∏–∞–±–∏–ª–µ—Ç—ã</h3>
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
                    <p>–ü–æ–¥–±–æ—Ä –∏ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ª—É—á—à–∏—Ö –∞–≤–∏–∞–ø–µ—Ä–µ–ª–µ—Ç–æ–≤ –ø–æ –≤—ã–≥–æ–¥–Ω—ã–º —Ü–µ–Ω–∞–º</p>
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
                </div>
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
                <div class="service-card slide-in-bottom">
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
                    <div class="service-icon"><i class="fas fa-hotel"></i></div>
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
                    <h3>–û—Ç–µ–ª–∏</h3>
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
                    <p>–ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç–µ–ª–µ–π –ª—é–±–æ–≥–æ —É—Ä–æ–≤–Ω—è –∫–æ–º—Ñ–æ—Ä—Ç–∞ –ø–æ –≤—Å–µ–º—É –º–∏—Ä—É</p>
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
                </div>
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
                <div class="service-card slide-in-right">
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
                    <div class="service-icon"><i class="fas fa-map-marked-alt"></i></div>
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
                    <h3>–¢—É—Ä—ã</h3>
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
                    <p>–ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–µ –∏ –≥—Ä—É–ø–ø–æ–≤—ã–µ —Ç—É—Ä—ã —Å –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–º–∏ –≥–∏–¥–∞–º–∏</p>
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
                </div>
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
                <div class="service-card slide-in-top">
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
                    <div class="service-icon"><i class="fas fa-shield-alt"></i></div>
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
                    <h3>–°—Ç—Ä–∞—Ö–æ–≤–∞–Ω–∏–µ</h3>
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
                    <p>–ü–æ–ª–Ω–æ–µ —Å—Ç—Ä–∞—Ö–æ–≤–æ–µ —Å–æ–ø—Ä–æ–≤–æ–∂–¥–µ–Ω–∏–µ –≤–∞—à–µ–≥–æ –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏—è</p>
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
                </div>
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
            </div>
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
        </div>
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
    </section>
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>

    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
    <!-- Destinations Section -->
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
    <section id="destinations" class="destinations">
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
        <div class="container">
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
            <h2 class="section-title">–ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è</h2>
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
            <p class="section-subtitle">–û—Ç–∫—Ä–æ–π—Ç–µ –¥–ª—è —Å–µ–±—è –ª—É—á—à–∏–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è –º–∏—Ä–∞ —Å –Ω–∞—à–∏–º–∏ —ç–∫—Å–∫–ª—é–∑–∏–≤–Ω—ã–º–∏ —Ç—É—Ä–∞–º–∏</p>
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
            
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
            <div class="search-box">
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
                <input type="text" class="search-input" placeholder="üîç –ü–æ–∏—Å–∫ —Å—Ç—Ä–∞–Ω –∏–ª–∏ —Ç—É—Ä–æ–≤...">
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
            </div>
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>

    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
            <div class="loading-message" id="destinations-loading">
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
                <i class="fas fa-spinner fa-spin"></i> –ó–∞–≥—Ä—É–∂–∞–µ–º –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è...
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
            </div>
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
            <div class="destinations-grid" id="destinations-grid">
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
                <!-- –°—Ç—Ä–∞–Ω—ã –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–∞—Ç—å—Å—è —á–µ—Ä–µ–∑ JavaScript -->
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
            </div>
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
            <div class="error-message" id="destinations-error" style="display: none;">
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
                <i class="fas fa-exclamation-triangle"></i> –ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –æ–±–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É.
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
            </div>
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
        </div>
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
    </section>
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>

    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
    <!-- Contact Section -->
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
    <section id="contact" class="contact">
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
        <div class="container">
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
            <h2 class="section-title">–ö–æ–Ω—Ç–∞–∫—Ç—ã</h2>
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
            <div class="contact-content">
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
                <div class="contact-info">
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
                    <h3>–ù–∞—à–∏ –∫–æ–Ω—Ç–∞–∫—Ç—ã</h3>
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
                    <div class="contact-item">
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
                        <i class="fas fa-phone"></i>
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
                        <div>
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
                            <strong>–¢–µ–ª–µ—Ñ–æ–Ω:</strong>
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
                            <p>+7 (999) 123-45-67</p>
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
                        </div>
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
                    </div>
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
                    <div class="contact-item">
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
                        <i class="fas fa-envelope"></i>
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
                        <div>
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
                            <strong>Email:</strong>
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
                            <p>info@worldtravel.com</p>
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
                        </div>
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
                    </div>
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
                    <div class="contact-item">
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
                        <i class="fas fa-map-marker-alt"></i>
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
                        <div>
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
                            <strong>–ê–¥—Ä–µ—Å:</strong>
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
                            <p>–ú–æ—Å–∫–≤–∞, —É–ª. –¢—É—Ä–∏—Å—Ç–∏—á–µ—Å–∫–∞—è, 15</p>
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
                        </div>
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
                    </div>
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
                    <div class="contact-item">
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
                        <i class="fas fa-clock"></i>
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
                        <div>
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
                            <strong>–ß–∞—Å—ã —Ä–∞–±–æ—Ç—ã:</strong>
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
                            <p>–ü–Ω-–ü—Ç: 9:00-18:00</p>
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
                        </div>
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
                    </div>
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
                </div>
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
                <form class="contact-form">
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
                    <input type="text" placeholder="–í–∞—à–µ –∏–º—è" required>
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
                    <input type="email" placeholder="–í–∞—à email" required>
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
                    <input type="tel" placeholder="–í–∞—à —Ç–µ–ª–µ—Ñ–æ–Ω">
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
                    <textarea placeholder="–í–∞—à–µ —Å–æ–æ–±—â–µ–Ω–∏–µ" rows="5" required></textarea>
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
                    <button type="submit">–û—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ</button>
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
                </form>
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
            </div>
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
        </div>
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
    </section>
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>

    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
    <!-- Footer -->
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
    <footer class="footer">
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
        <div class="container">
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
            <div class="footer-content">
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
                <div class="footer-section">
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
                    <h3><i class="fas fa-globe-americas"></i> WorldTravel</h3>
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
                    <p>–í–∞—à –Ω–∞–¥–µ–∂–Ω—ã–π –ø–∞—Ä—Ç–Ω–µ—Ä –≤ –º–∏—Ä–µ –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏–π.</p>
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
                </div>
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
                <div class="footer-section">
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
                    <h4>–ë—ã—Å—Ç—Ä—ã–µ —Å—Å—ã–ª–∫–∏</h4>
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
                    <ul>
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
                        <li><a href="#home">–ì–ª–∞–≤–Ω–∞—è</a></li>
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
                        <li><a href="#about">–û –Ω–∞—Å</a></li>
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
                        <li><a href="#services">–£—Å–ª—É–≥–∏</a></li>
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
                        <li><a href="#destinations">–ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è</a></li>
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
                        <li><a href="#contact">–ö–æ–Ω—Ç–∞–∫—Ç—ã</a></li>
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
                    </ul>
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
                </div>
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
                <div class="footer-section">
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
                    <h4>–ö–æ–Ω—Ç–∞–∫—Ç—ã</h4>
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
                    <p><i class="fas fa-phone"></i> +7 (999) 123-45-67</p>
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
                    <p><i class="fas fa-envelope"></i> info@worldtravel.com</p>
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
                    <p><i class="fas fa-map-marker-alt"></i> –ú–æ—Å–∫–≤–∞, —É–ª. –¢—É—Ä–∏—Å—Ç–∏—á–µ—Å–∫–∞—è, 15</p>
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
                    <p><i class="fas fa-clock"></i> –ü–Ω-–ü—Ç: 9:00-18:00</p>
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
                </div>
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
            </div>
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
            <div class="footer-bottom">
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
                <p>&copy; 2024 WorldTravel. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.</p>
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
            </div>
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
        </div>
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
    </footer>
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>

    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
    <!-- Scripts -->
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
    <script src="fix-data-manager-error.js"></script>
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
    <script src="silent-fix.js"></script>
    <script src="fix-recursion.js"></script>
    <script src="safe-sync.js"></script>
    <script src="data-manager-fixed.js"></script>
    <script src="simple-sync-working.js"></script>
    <script src="minimal-sync.js"></script>
    <script src="script.js?v=4"></script>
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
    <script src="diagnose.js"></script>
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
    <script src="force-refresh.js"></script>
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
    <script>
// This line was causing syntax error
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
(function() {
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
    const footerSection = document.querySelector('.footer-section');
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
    if (footerSection) {
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
        const p = footerSection.querySelector('p');
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
        if (p) {
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
            p.textContent = '–í–∞—à –Ω–∞–¥–µ–∂–Ω—ã–π –ø–∞—Ä—Ç–Ω–µ—Ä –≤ –º–∏—Ä–µ –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏–π.';
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
            console.log('‚úÖ Footer paragraph updated');
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
        }
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
    }
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
})();
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
</script>
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
</html>
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-errors.js"></script>
    <script src="data-manager-loader.js"></script>
    <script src="fix-script-directly.js"></script>
    <script src="data-manager-loader.js"></script>
    <script src="fix-exact-updater.js"></script>
    <script src="data-manager-loader.js"></script>
<script>
// Inline test commands
console.log('üß™ INLINE TEST COMMANDS LOADED');

window.testSave = function() {
    const testData = {
        contacts: {
            phone: '+7 (999) TEST-99-99',
            email: 'test@test.com'
        },
        settings: {
            siteTitle: 'TEST SITE TITLE'
        },
        lastUpdate: new Date().toISOString()
    };
    
    localStorage.setItem('worldtravel_data', JSON.stringify(testData));
    console.log('‚úÖ Test data saved to localStorage');
    
    // Trigger sync
    if (window.forceUpdate) {
        window.forceUpdate();
    } else {
        console.log('‚ùå forceUpdate not available');
    }
};

window.checkData = function() {
    const data = localStorage.getItem('worldtravel_data');
    console.log('üì¶ Current data:', data ? JSON.parse(data) : 'NO DATA');
};

console.log('‚úÖ Test commands ready: testSave(), checkData()');
</script>
<script>
// Inline test commands
console.log('üß™ INLINE TEST COMMANDS LOADED');

window.testSave = function() {
    const testData = {
        contacts: {
            phone: '+7 (999) TEST-99-99',
            email: 'test@test.com'
        },
        settings: {
            siteTitle: 'TEST SITE TITLE'
        },
        lastUpdate: new Date().toISOString()
    };
    
    localStorage.setItem('worldtravel_data', JSON.stringify(testData));
    console.log('‚úÖ Test data saved to localStorage');
    
    // Trigger sync
    if (window.forceUpdate) {
        window.forceUpdate();
    } else {
        console.log('‚ùå forceUpdate not available');
    }
};

window.checkData = function() {
    const data = localStorage.getItem('worldtravel_data');
    console.log('üì¶ Current data:', data ? JSON.parse(data) : 'NO DATA');
};

console.log('‚úÖ Test commands ready: testSave(), checkData()');
</script>



=== FILE: ./admin-simple-save.js ===
// Admin simple save - no events, no recursion
console.log('‚úÖ ADMIN SIMPLE SAVE LOADED');

// Override dataManager setData to prevent recursion
if (window.dataManager && window.dataManager.setData) {
    var originalSetData = window.dataManager.setData;
    window.dataManager.setData = function(data) {
        // Direct save to localStorage without events
        localStorage.setItem('worldtravel_data', JSON.stringify(data));
        console.log('üíæ Admin data saved directly to localStorage');
        
        // Call original without events if it exists
        if (originalSetData) {
            try {
                // Temporarily disable event dispatching
                var originalDispatch = window.dispatchEvent;
                window.dispatchEvent = function() { return true; };
                var result = originalSetData.call(this, data);
                window.dispatchEvent = originalDispatch;
                return result;
            } catch(e) {
                return true;
            }
        }
        return true;
    };
}

// Also patch update methods
if (window.dataManager && window.dataManager.updateContacts) {
    var originalUpdateContacts = window.dataManager.updateContacts;
    window.dataManager.updateContacts = function(contacts) {
        var data = window.dataManager.getData();
        if (!data) data = {};
        data.contacts = contacts;
        data.lastUpdate = new Date().toISOString();
        return window.dataManager.setData(data);
    };
}



=== FILE: ./smart-image-editor.js ===
// Smart Image Editor - only for sections with images
class SmartImageEditor {
    constructor() {
        this.sectionsWithImages = ['hero', 'about']; // –¢–æ–ª—å–∫–æ —ç—Ç–∏ —Å–µ–∫—Ü–∏–∏ –∏–º–µ—é—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
        this.init();
    }

    init() {
        if (window.editor) {
            this.patchEditor();
        } else {
            setTimeout(() => this.init(), 100);
        }
    }

    patchEditor() {
        console.log('üéØ Smart Image Editor initialized');

        const originalShow = window.editor.showContentEditor;
        
        window.editor.showContentEditor = function() {
            originalShow.call(this);
            setTimeout(() => {
                this.removeExistingImageEditors();
                this.addSmartImageManager();
            }, 100);
        };

        // Remove existing editors
        window.editor.removeExistingImageEditors = function() {
            const contentEditor = document.getElementById('content-editor');
            if (!contentEditor) return;
            
            const existingEditors = contentEditor.querySelectorAll('[data-image-field]');
            existingEditors.forEach(editor => editor.remove());
            
            const formGroups = contentEditor.querySelectorAll('.form-group');
            formGroups.forEach(group => {
                if (group.querySelector('input[data-field="image"]')) {
                    group.remove();
                }
            });
        };

        // Add image manager only for sections that need it
        window.editor.addSmartImageManager = function() {
            const sectionsConfig = {
                'hero': { 
                    name: '–ì–ª–∞–≤–Ω—ã–π –±–∞–Ω–Ω–µ—Ä', 
                    hasImage: true,
                    field: 'image'
                },
                'about': { 
                    name: '–û –∫–æ–º–ø–∞–Ω–∏–∏', 
                    hasImage: true,
                    field: 'image' 
                },
                'services': { 
                    name: '–£—Å–ª—É–≥–∏', 
                    hasImage: false 
                },
                'destinations': { 
                    name: '–ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è', 
                    hasImage: false 
                },
                'contact': { 
                    name: '–ö–æ–Ω—Ç–∞–∫—Ç—ã', 
                    hasImage: false 
                }
            };

            const config = sectionsConfig[this.currentSection?.id];
            if (!config) return;

            if (config.hasImage) {
                this.createImageField(config.name, config.field);
            }
        };

        // Create image field
        window.editor.createImageField = function(sectionName, fieldId) {
            const contentEditor = document.getElementById('content-editor');
            if (!contentEditor) return;

            const currentValue = this.getCurrentValue(fieldId) || '';
            
            const html = '<div class="form-group" data-image-field="' + fieldId + '">' +
                '<label>üñºÔ∏è –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥–ª—è ' + sectionName + ':</label>' +
                '<div style="display: flex; gap: 10px; align-items: center; margin-top: 10px;">' +
                '<input type="text" data-field="' + fieldId + '" class="form-control" placeholder="URL –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è..." ' +
                'value="' + currentValue + '">' +
                '<button type="button" class="btn-admin" onclick="editor.uploadImage(\'' + fieldId + '\')">' +
                '<i class="fas fa-upload"></i> –ó–∞–≥—Ä—É–∑–∏—Ç—å' +
                '</button>' +
                '<button type="button" class="btn-admin secondary" onclick="editor.setImageUrl(\'' + fieldId + '\')">' +
                '<i class="fas fa-link"></i> URL' +
                '</button>' +
                '</div>' +
                '<div style="font-size: 12px; color: #666; margin-top: 5px;">' +
                '–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è: JPG, PNG, GIF, WebP (–º–∞–∫—Å. 5MB)' +
                '</div>' +
                '</div>';

            const titleField = contentEditor.querySelector('[data-field="title"]');
            if (titleField) {
                titleField.closest('.form-group').insertAdjacentHTML('afterend', html);
                console.log('‚úÖ Added image editor for: ' + sectionName);
            }
        };

        // Image methods
        window.editor.uploadImage = function(fieldId) {
            const input = document.createElement('input');
            input.type = 'file';
            input.accept = 'image/*';
            input.onchange = function(e) {
                const file = e.target.files[0];
                if (file) {
                    // Validate file size (5MB max)
                    if (file.size > 5 * 1024 * 1024) {
                        alert('–§–∞–π–ª —Å–ª–∏—à–∫–æ–º –±–æ–ª—å—à–æ–π. –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä: 5MB');
                        return;
                    }
                    
                    const reader = new FileReader();
                    reader.onload = function(e) {
                        document.querySelector('[data-field="' + fieldId + '"]').value = e.target.result;
                        window.editor.hasUnsavedChanges = true;
                        if (window.editor.showNotification) {
                            window.editor.showNotification('–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∑–∞–≥—Ä—É–∂–µ–Ω–æ', 'success');
                        }
                    };
                    reader.readAsDataURL(file);
                }
            };
            input.click();
        };

        window.editor.setImageUrl = function(fieldId) {
            const current = document.querySelector('[data-field="' + fieldId + '"]').value;
            const url = prompt('URL –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è:', current || '');
            if (url !== null) {
                document.querySelector('[data-field="' + fieldId + '"]').value = url;
                this.hasUnsavedChanges = true;
                if (this.showNotification) {
                    this.showNotification('URL —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω', 'success');
                }
            }
        };
    }
}

new SmartImageEditor();



=== FILE: ./enhanced-update-content.js ===
// Enhanced content updater with support for all editable sections
function ContentUpdater() {
    this.appliedChanges = new Set();
    this.init();
}

ContentUpdater.prototype.init = function() {
    console.log('üöÄ Enhanced ContentUpdater initialized');
    
    var self = this;
    if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', function() {
            setTimeout(function() { self.applyAllChanges(); }, 100);
        });
    } else {
        setTimeout(function() { self.applyAllChanges(); }, 100);
    }

    window.addEventListener('dataUpdated', function(e) {
        console.log('üîÑ Data update received:', e.detail);
        setTimeout(function() { self.applyAllChanges(); }, 50);
    });

    setInterval(function() { self.applyAllChanges(); }, 2000);

    if (window.location.search.includes('editor=true')) {
        setTimeout(function() { self.applyAllChanges(); }, 500);
    }
};

ContentUpdater.prototype.applyAllChanges = function() {
    if (!window.dataManager) {
        console.log('‚è≥ Waiting for DataManager...');
        this.applyLocalChanges();
        return;
    }

    var data = window.dataManager.getData();
    if (!data) {
        console.log('üì≠ No data available');
        this.applyLocalChanges();
        return;
    }

    var changeHash = this.getDataHash(data);
    if (this.appliedChanges.has(changeHash)) {
        return;
    }

    console.log('üîÑ Applying changes from DataManager...');
    
    this.applyContentChanges(data.content);
    this.applyContactChanges(data.contacts);
    this.applySettingsChanges(data.settings);
    this.applyCustomSections(data);
    
    this.appliedChanges.add(changeHash);
    console.log('‚úÖ Changes applied successfully');
};

ContentUpdater.prototype.applyLocalChanges = function() {
    var localData = localStorage.getItem('worldtravel_data');
    if (localData) {
        try {
            var data = JSON.parse(localData);
            console.log('üìÅ Applying local changes...');
            this.applyContentChanges(data.content);
            this.applyContactChanges(data.contacts);
            this.applySettingsChanges(data.settings);
            this.applyCustomSections(data);
        } catch (error) {
            console.error('‚ùå Error applying local changes:', error);
        }
    }
};

ContentUpdater.prototype.getDataHash = function(data) {
    return JSON.stringify({
        content: data.content,
        contacts: data.contacts,
        settings: data.settings,
        pageStructure: data.pageStructure,
        timestamp: data.lastUpdate
    });
};

ContentUpdater.prototype.applyContentChanges = function(content) {
    if (!content) return;

    console.log('üìù Applying content changes to all sections');

    // Hero section
    if (content.hero) {
        this.updateElement('#home h1, .hero h1, section:first-of-type h1', content.hero.title);
        this.updateElement('#home p, .hero p, section:first-of-type p', content.hero.subtitle);
        if (content.hero.image) {
            this.updateImages('.hero-image img, .image-placeholder img', content.hero.image);
        }
    }

    // About section
    if (content.about) {
        this.updateElement('#about .section-title, .about .section-title, section:nth-of-type(2) .section-title', content.about.title);
        this.updateElement('.about-text p, #about p, .about p, section:nth-of-type(2) p', content.about.description);
        
        if (content.about.image) {
            this.updateImages('.about-image img, .image-placeholder img', content.about.image);
        }
        
        this.updateNavigation('about', content.about.title);
        
        if (content.about.stats) {
            this.updateStats(content.about.stats);
        }
    }

    // Services section
    if (content.services) {
        this.updateElement('#services .section-title, .services .section-title, section:nth-of-type(3) .section-title', content.services.title);
        this.updateNavigation('services', content.services.title);
        
        if (content.services.services) {
            this.updateServices(content.services.services);
        }
    }

    // Destinations section
    if (content.destinations) {
        this.updateElement('#destinations .section-title, .destinations .section-title, section:nth-of-type(4) .section-title', content.destinations.title);
        this.updateElement('.destinations .section-subtitle, .section-subtitle, section:nth-of-type(4) .section-subtitle', content.destinations.subtitle);
        this.updateNavigation('destinations', content.destinations.title);
    }

    // Contact section
    if (content.contact) {
        this.updateElement('#contact .section-title, .contact .section-title, section:nth-of-type(5) .section-title', content.contact.title);
        this.updateNavigation('contact', content.contact.title);
    }

    // Footer section
    if (content.footer) {
        this.updateElement('.footer-section:first-child p:first-child', content.footer.description);
        this.updateElement('.footer-bottom p', content.footer.copyright, true);
    }

    // Custom sections
    this.applyCustomSectionsData(content);
};

ContentUpdater.prototype.applyCustomSectionsData = function(content) {
    var self = this;
    Object.keys(content).forEach(function(sectionId) {
        if (sectionId.startsWith('section-')) {
            var sectionData = content[sectionId];
            var sectionElement = document.getElementById(sectionId);
            
            if (sectionElement) {
                // Update custom section content based on type
                switch (sectionData.type) {
                    case 'text':
                        self.updateElement('#' + sectionId + ' .section-title', sectionData.title);
                        self.updateElement('#' + sectionId + ' .section-content p', sectionData.content);
                        break;
                    case 'image':
                        self.updateElement('#' + sectionId + ' .section-title', sectionData.title);
                        self.updateElement('#' + sectionId + ' .text-content p', sectionData.content);
                        if (sectionData.image) {
                            self.updateImages('#' + sectionId + ' .image-content img', sectionData.image);
                        }
                        break;
                    case 'features':
                        self.updateElement('#' + sectionId + ' .section-title', sectionData.title);
                        if (sectionData.features) {
                            self.updateFeatures('#' + sectionId + ' .features-grid', sectionData.features);
                        }
                        break;
                    case 'cta':
                        self.updateElement('#' + sectionId + ' h2', sectionData.title);
                        self.updateElement('#' + sectionId + ' p', sectionData.description);
                        if (sectionData.buttonText) {
                            self.updateElement('#' + sectionId + ' .cta-button', sectionData.buttonText);
                            var button = document.querySelector('#' + sectionId + ' .cta-button');
                            if (button && sectionData.buttonUrl) {
                                button.href = sectionData.buttonUrl;
                            }
                        }
                        break;
                }
            }
        }
    });
};

ContentUpdater.prototype.updateElement = function(selector, content, isHTML) {
    var elements = document.querySelectorAll(selector);
    if (elements.length > 0) {
        elements.forEach(function(element) {
            if (isHTML) {
                element.innerHTML = content;
            } else {
                element.textContent = content;
            }
        });
    }
};

ContentUpdater.prototype.updateImages = function(selector, src) {
    var elements = document.querySelectorAll(selector);
    if (elements.length > 0) {
        elements.forEach(function(element) {
            element.src = src;
        });
    }
};

ContentUpdater.prototype.updateNavigation = function(sectionId, title) {
    var navLinks = document.querySelectorAll('.nav-links a[href="#' + sectionId + '"]');
    if (navLinks.length > 0) {
        navLinks.forEach(function(link) {
            link.textContent = title;
        });
    }
};

ContentUpdater.prototype.updateStats = function(stats) {
    var statElements = document.querySelectorAll('.stat');
    if (statElements.length >= stats.length) {
        stats.forEach(function(stat, index) {
            if (statElements[index]) {
                var valueElement = statElements[index].querySelector('h3');
                var labelElement = statElements[index].querySelector('p');
                if (valueElement) valueElement.textContent = stat.value;
                if (labelElement) labelElement.textContent = stat.label;
            }
        });
    }
};

ContentUpdater.prototype.updateServices = function(services) {
    var serviceCards = document.querySelectorAll('.service-card');
    if (serviceCards.length >= services.length) {
        services.forEach(function(service, index) {
            if (serviceCards[index]) {
                var titleElement = serviceCards[index].querySelector('h3');
                var descElement = serviceCards[index].querySelector('p');
                var iconElement = serviceCards[index].querySelector('.service-icon i');
                
                if (titleElement) titleElement.textContent = service.title;
                if (descElement) descElement.textContent = service.description;
                if (iconElement && service.icon) {
                    iconElement.className = service.icon;
                }
            }
        });
    }
};

ContentUpdater.prototype.updateFeatures = function(selector, features) {
    var container = document.querySelector(selector);
    if (container) {
        var featureItems = container.querySelectorAll('.feature-item');
        if (featureItems.length >= features.length) {
            features.forEach(function(feature, index) {
                if (featureItems[index]) {
                    var titleElement = featureItems[index].querySelector('h3');
                    var descElement = featureItems[index].querySelector('p');
                    var iconElement = featureItems[index].querySelector('.feature-icon i');
                    
                    if (titleElement) titleElement.textContent = feature.title;
                    if (descElement) descElement.textContent = feature.description;
                    if (iconElement && feature.icon) {
                        iconElement.className = feature.icon;
                    }
                }
            });
        }
    }
};

ContentUpdater.prototype.applyContactChanges = function(contacts) {
    if (!contacts) return;

    if (contacts.phone) {
        this.updateElement('.contact-info .contact-item:nth-child(1) p, .contact-item:first-child p', contacts.phone);
    }
    if (contacts.email) {
        this.updateElement('.contact-info .contact-item:nth-child(2) p, .contact-item:nth-child(2) p', contacts.email);
    }
    if (contacts.address) {
        this.updateElement('.contact-info .contact-item:nth-child(3) p, .contact-item:nth-child(3) p', contacts.address);
    }
    if (contacts.hours) {
        this.updateElement('.contact-info .contact-item:nth-child(4) p, .contact-item:nth-child(4) p', contacts.hours);
    }
};

ContentUpdater.prototype.applySettingsChanges = function(settings) {
    if (!settings) return;

    if (settings.siteTitle) {
        document.title = settings.siteTitle;
    }
};

ContentUpdater.prototype.applyCustomSections = function(data) {
    if (!data.pageStructure || !data.content) return;

    var customSectionsContainer = document.getElementById('custom-sections');
    if (!customSectionsContainer) {
        customSectionsContainer = document.createElement('div');
        customSectionsContainer.id = 'custom-sections';
        var footer = document.querySelector('footer');
        if (footer) {
            footer.parentNode.insertBefore(customSectionsContainer, footer);
        }
    }

    customSectionsContainer.innerHTML = '';

    var self = this;
    data.pageStructure.forEach(function(sectionId) {
        if (sectionId.startsWith('section-') && data.content[sectionId]) {
            self.renderCustomSection(customSectionsContainer, data.content[sectionId]);
        }
    });
};

ContentUpdater.prototype.renderCustomSection = function(container, sectionData) {
    var sectionElement = document.createElement('section');
    sectionElement.className = 'custom-section ' + sectionData.type + '-section';
    sectionElement.id = sectionData.id;

    var html = '';
    switch (sectionData.type) {
        case 'text':
            html = '\
                <div class="container">\
                    <h2 class="section-title">' + (sectionData.title || '') + '</h2>\
                    <div class="section-content">\
                        <p>' + (sectionData.content || '') + '</p>\
                    </div>\
                </div>\
            ';
            break;
        case 'image':
            html = '\
                <div class="container">\
                    <div class="section-content" style="display: flex; gap: 30px; align-items: center; flex-wrap: wrap;">\
                        <div class="text-content" style="flex: 1; min-width: 300px;">\
                            <h2 class="section-title">' + (sectionData.title || '') + '</h2>\
                            <p>' + (sectionData.content || '') + '</p>\
                        </div>\
                        <div class="image-content" style="flex: 1; min-width: 300px; text-align: center;">\
                            ' + (sectionData.image ? '<img src="' + sectionData.image + '" alt="' + (sectionData.title || '') + '" style="max-width: 100%; border-radius: 10px;">' : '') + '\
                        </div>\
                    </div>\
                </div>\
            ';
            break;
        case 'features':
            var featuresHtml = (sectionData.features || []).map(function(feature) {
                return '\
                    <div class="feature-item" style="text-align: center; padding: 30px 20px; background: white; border-radius: 10px; box-shadow: 0 5px 15px rgba(0,0,0,0.1); transition: transform 0.3s ease;">\
                        <div class="feature-icon" style="font-size: 3em; margin-bottom: 20px; color: #2c5aa0;">\
                            <i class="' + (feature.icon || 'fas fa-star') + '"></i>\
                        </div>\
                        <h3 style="margin-bottom: 15px; color: #333;">' + (feature.title || '') + '</h3>\
                        <p style="color: #666; line-height: 1.6;">' + (feature.description || '') + '</p>\
                    </div>\
                ';
            }).join('');
            
            html = '\
                <div class="container">\
                    <h2 class="section-title">' + (sectionData.title || '') + '</h2>\
                    <div class="features-grid" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 30px; margin-top: 40px;">\
                        ' + featuresHtml + '\
                    </div>\
                </div>\
            ';
            break;
        case 'cta':
            html = '\
                <div class="container">\
                    <div class="cta-section" style="text-align: center; padding: 60px 40px; background: linear-gradient(135deg, #2c5aa0, #4a7bc8); color: white; border-radius: 15px; margin: 40px 0;">\
                        <h2 style="margin-bottom: 20px; font-size: 2.5em;">' + (sectionData.title || '') + '</h2>\
                        <p style="margin-bottom: 30px; font-size: 1.2em; opacity: 0.9;">' + (sectionData.description || '') + '</p>\
                        ' + (sectionData.buttonText ? '\
                            <a href="' + (sectionData.buttonUrl || '#') + '" class="cta-button" style="background: white; color: #2c5aa0; padding: 15px 40px; border-radius: 30px; text-decoration: none; font-weight: 600; display: inline-block; font-size: 1.1em; transition: all 0.3s ease;">\
                                ' + sectionData.buttonText + '\
                            </a>\
                        ' : '') + '\
                    </div>\
                </div>\
            ';
            break;
    }

    sectionElement.innerHTML = html;
    sectionElement.style.padding = '80px 0';
    sectionElement.style.background = sectionData.type === 'cta' ? 'transparent' : '#f8f9fa';
    
    if (sectionData.type === 'cta') {
        sectionElement.style.padding = '40px 0';
    }

    container.appendChild(sectionElement);
};

// Initialize enhanced content updater
var contentUpdater = new ContentUpdater();



