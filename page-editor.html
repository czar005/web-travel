<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–†–µ–¥–∞–∫—Ç–æ—Ä —Å—Ç—Ä–∞–Ω–∏—Ü - WorldTravel</title>
    <link rel="stylesheet" href="admin-style.css">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: Arial, sans-serif; background: #f5f7fa; height: 100vh; overflow: hidden; }
        .editor-container { display: flex; height: 100vh; }
        .preview-panel { flex: 1; background: white; display: flex; flex-direction: column; }
        .editor-panel { width: 400px; background: white; border-left: 2px solid #e1e5e9; display: flex; flex-direction: column; }
        .panel-header { padding: 20px; background: #2c5aa0; color: white; }
        .preview-frame-container { flex: 1; position: relative; }
        .preview-frame { width: 100%; height: 100%; border: none; }
        .section-list { padding: 20px; flex: 1; overflow-y: auto; }
        .section-item { padding: 15px; background: #f8f9fa; border: 2px solid #e9ecef; border-radius: 8px; margin-bottom: 10px; cursor: pointer; transition: all 0.3s ease; }
        .section-item:hover { border-color: #2c5aa0; background: #e3f2fd; }
        .section-title { font-weight: bold; margin-bottom: 5px; color: #333; }
        .section-desc { color: #666; font-size: 0.9em; }
        .btn { background: #28a745; color: white; padding: 12px 20px; border: none; border-radius: 6px; cursor: pointer; font-size: 14px; margin: 5px; }
        .btn:hover { background: #218838; }
        .empty-state { text-align: center; padding: 40px; color: #666; }
    </style>
</head>
<body>
    <div class="editor-container">
        <!-- –õ–µ–≤–∞—è –ø–∞–Ω–µ–ª—å - –ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä -->
        <div class="preview-panel">
            <div class="panel-header">
                <h2 style="margin: 0 0 10px 0;">–ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä —Å—Ç—Ä–∞–Ω–∏—Ü—ã</h2>
                <button class="btn" onclick="saveAndExit()">
                    –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏ –≤—ã–π—Ç–∏
                </button>
            </div>
            <div class="preview-frame-container">
                <iframe class="preview-frame" id="preview-frame" src="index.html?editor=true&simple=1"></iframe>
            </div>
        </div>
        
        <!-- –ü—Ä–∞–≤–∞—è –ø–∞–Ω–µ–ª—å - —Ä–µ–¥–∞–∫—Ç–æ—Ä -->
        <div class="editor-panel">
            <div class="panel-header">
                <h2 style="margin: 0;">–†–µ–¥–∞–∫—Ç–æ—Ä –∫–æ–Ω—Ç–µ–Ω—Ç–∞</h2>
            </div>
            <div class="section-list">
                <div class="section-item" data-section="hero">
                    <div class="section-title">–ì–ª–∞–≤–Ω—ã–π –±–∞–Ω–Ω–µ—Ä</div>
                    <div class="section-desc">–ó–∞–≥–æ–ª–æ–≤–æ–∫, –æ–ø–∏—Å–∞–Ω–∏–µ –∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –Ω–∞ –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ</div>
                </div>
                <div class="section-item" data-section="about">
                    <div class="section-title">–û –∫–æ–º–ø–∞–Ω–∏–∏</div>
                    <div class="section-desc">–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–æ–º–ø–∞–Ω–∏–∏, —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ</div>
                </div>
                <div class="section-item" data-section="services">
                    <div class="section-title">–£—Å–ª—É–≥–∏</div>
                    <div class="section-desc">–°–ø–∏—Å–æ–∫ —É—Å–ª—É–≥ –∫–æ–º–ø–∞–Ω–∏–∏</div>
                </div>
                <div class="section-item" data-section="destinations">
                    <div class="section-title">–ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è</div>
                    <div class="section-desc">–ü–æ–ø—É–ª—è—Ä–Ω—ã–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è</div>
                </div>
                <div class="section-item" data-section="contact">
                    <div class="section-title">–ö–æ–Ω—Ç–∞–∫—Ç—ã</div>
                    <div class="section-desc">–ö–æ–Ω—Ç–∞–∫—Ç–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // –ü–†–û–°–¢–ê–Ø –ò –†–ê–ë–û–¢–ê–Æ–©–ê–Ø –í–ï–†–°–ò–Ø –ë–ï–ó BLOB URL
        console.log('üöÄ –†–µ–¥–∞–∫—Ç–æ—Ä —Å—Ç—Ä–∞–Ω–∏—Ü –∑–∞–≥—Ä—É–∂–µ–Ω');
        
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        document.addEventListener('DOMContentLoaded', function() {
            initEditor();
        });
        
        function initEditor() {
            // –î–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–ª—è —Å–µ–∫—Ü–∏–π
            var sectionItems = document.querySelectorAll('.section-item');
            sectionItems.forEach(function(item) {
                item.addEventListener('click', function() {
                    var sectionId = this.getAttribute('data-section');
                    selectSection(sectionId);
                });
            });
            
            console.log('‚úÖ –†–µ–¥–∞–∫—Ç–æ—Ä –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω');
        }
        
        function selectSection(sectionId) {
            console.log('–í—ã–±—Ä–∞–Ω–∞ —Å–µ–∫—Ü–∏—è:', sectionId);
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
            showNotification('–í—ã–±—Ä–∞–Ω–∞ —Å–µ–∫—Ü–∏—è: ' + getSectionName(sectionId));
            
            // –ó–¥–µ—Å—å –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –ª–æ–≥–∏–∫—É —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
            // –î–ª—è –ø—Ä–æ—Å—Ç–æ—Ç—ã –ø—Ä–æ—Å—Ç–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º alert
            setTimeout(function() {
                var confirmEdit = confirm('–•–æ—Ç–∏—Ç–µ –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–µ–∫—Ü–∏—é "' + getSectionName(sectionId) + '"?');
                if (confirmEdit) {
                    showNotification('–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–µ–∫—Ü–∏–∏...');
                    // –í —Ä–µ–∞–ª—å–Ω–æ–π –≤–µ—Ä—Å–∏–∏ –∑–¥–µ—Å—å –±—É–¥–µ—Ç –æ—Ç–∫—Ä—ã—Ç–∏–µ —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞
                }
            }, 100);
        }
        
        function getSectionName(sectionId) {
            var names = {
                'hero': '–ì–ª–∞–≤–Ω—ã–π –±–∞–Ω–Ω–µ—Ä',
                'about': '–û –∫–æ–º–ø–∞–Ω–∏–∏',
                'services': '–£—Å–ª—É–≥–∏',
                'destinations': '–ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è',
                'contact': '–ö–æ–Ω—Ç–∞–∫—Ç—ã'
            };
            return names[sectionId] || sectionId;
        }
        
        function saveAndExit() {
            if (confirm('–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è –∏ –≤–µ—Ä–Ω—É—Ç—å—Å—è –≤ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å?')) {
                showNotification('–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ...');
                setTimeout(function() {
                    window.location.href = 'admin.html';
                }, 500);
            }
        }
        
        function showNotification(message) {
            // –°–æ–∑–¥–∞–µ–º –ø—Ä–æ—Å—Ç–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
            var notification = document.createElement('div');
            notification.style.cssText = [
                'position: fixed',
                'top: 20px',
                'right: 20px', 
                'background: #28a745',
                'color: white',
                'padding: 15px 20px',
                'border-radius: 8px',
                'z-index: 10000',
                'font-size: 14px',
                'animation: slideIn 0.3s ease'
            ].join(';');
            
            notification.textContent = message;
            document.body.appendChild(notification);
            
            // –£–¥–∞–ª—è–µ–º —á–µ—Ä–µ–∑ 3 —Å–µ–∫—É–Ω–¥—ã
            setTimeout(function() {
                if (notification.parentNode) {
                    notification.parentNode.removeChild(notification);
                }
            }, 3000);
        }
        
        // –î–æ–±–∞–≤–ª—è–µ–º CSS –∞–Ω–∏–º–∞—Ü–∏—é
        var style = document.createElement('style');
        style.textContent = '@keyframes slideIn { from { transform: translateX(100%); opacity: 0; } to { transform: translateX(0); opacity: 1; } }';
        document.head.appendChild(style);
    </script>
</body>
</html>
